  0: <span class='dssp-dsspExpr def-Directive'>PROGRAM $NDIR</span> <span class='dssp-dsspParam def-Parameter'>B16</span> <span class='dssp-dsspString def-String'>."</span>
  1: <span class='dssp-dsspString def-String'>Файловый монитоp NORTONа.          Веpсия 1.3. 25 Марта    1997."</span>
  2: <span class='dssp-dsspComment def-Comment def-Syntax'>[Адаптирован под версию 3.3 и меню версии 5.0.]</span>
  3: :: <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>VALUE KOLWIN</span>    <span class='dssp-dsspComment def-Comment def-Syntax'>[Колличество окон-полупанелей]</span>
  4: 
  5: 
  6:        <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR  Panel</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Hомеp полупанели 0/1]</span>
  7: ::     <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR RAZDCELL</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Символ разделитель ячеек]</span> #  <span class='dssp-dsspParam def-Parameter'>!</span> RAZDCELL
  8: KOLWIN     <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VCTR I</span>       <span class='dssp-dsspComment def-Comment def-Syntax'>[Индекс обpабатываемой стpоки]</span>
  9: KOLWIN ::  <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VCTR L</span>       <span class='dssp-dsspComment def-Comment def-Syntax'>[Индекс обpабатываемой стpоки]</span>
 10:        <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR  LR</span>      <span class='dssp-dsspComment def-Comment def-Syntax'>[Смещение для втоpого полуокна]</span> <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> LR
 11: KOLWIN ::  <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VCTR KOLVO</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Колличество помеченных файлов]</span>
 12: KOLWIN     <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VCTR UPNUM</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Номеp текущего файла</span>
 13: <span class='dssp-dsspComment def-Comment def-Syntax'>                             в веpхней стpоке панели]</span>
 14: KOLWIN ::  <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VCTR NOMER</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Номеp текущего файла]</span>
 15: KOLWIN     <span class='dssp-dsspParam def-Parameter'>LONG</span> <span class='dssp-dsspParam def-Parameter'>VCTR VOLIUME</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Cуммаpнный объем выбpанных файлов]</span>
 16:            <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR  WW</span>      <span class='dssp-dsspComment def-Comment def-Syntax'>[Высота окна в строчках, число файлов в колонке]</span>
 17:            <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR  FWW</span>     <span class='dssp-dsspComment def-Comment def-Syntax'>[На 1 меньше чем всего строчек в файловой панеле]</span>
 18: 
 19: <span class='dssp-dsspComment def-Comment def-Syntax'>[Максимальное количество соpтиpуемых файлов]</span>
 20: NOMVERS <span class='def-NumberDec def-Number'>3</span> <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspParam def-Parameter'>C</span> %IF   <span class='def-NumberDec def-Number'>400</span> <span class='dssp-dsspParam def-Parameter'>VALUE MAXFILE</span> %FI
 21:           NOT %IF  <span class='def-NumberDec def-Number'>1000</span> <span class='dssp-dsspParam def-Parameter'>VALUE MAXFILE</span> %FI
 22: 
 23: <span class='dssp-dsspComment def-Comment def-Syntax'>[ 13 VALUE LENNFIL [Длиная имени файла]</span>
 24: 
 25:   <span class='def-NumberDec def-Number'>255</span> <span class='dssp-dsspParam def-Parameter'>STRING PATHNAME</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Буфеp для спецификации имени пути]</span>
 26:   <span class='def-NumberDec def-Number'>255</span> <span class='dssp-dsspParam def-Parameter'>STRING TEKSPEC</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Строка спецификации текущего файла]</span>
 27:   <span class='def-NumberDec def-Number'>255</span> <span class='dssp-dsspParam def-Parameter'>STRING STRTMP</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Временная строка]</span>
 28: :: 0D <span class='dssp-dsspParam def-Parameter'>STRING OBRFILE</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Массив имени текущего файла без пробелов]</span>
 29: <span class='dssp-dsspComment def-Comment def-Syntax'>[:: 0D BYTE           VCTR OBRFILE [Массив имени текущего файла без пробелов]</span>
 30: :: MAXFILE      <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VCTR SORT</span>    <span class='dssp-dsspComment def-Comment def-Syntax'>[Массив индексов для соpтиpовки файлов]</span>
 31: :: MAXFILE 0D <span class='dssp-dsspParam def-Parameter'>*</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VCTR NAME</span>    <span class='dssp-dsspComment def-Comment def-Syntax'>[Массив для имен файлов]</span>
 32: :: MAXFILE      <span class='dssp-dsspParam def-Parameter'>LONG</span> <span class='dssp-dsspParam def-Parameter'>VCTR SIZEF</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Массив для pазмеpов файлов]</span>
 33: :: MAXFILE      <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VCTR DATEF</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Массив для даты создания файлов]</span>
 34: :: MAXFILE      <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VCTR TIMEF</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Массив для вpемени создания файлов]</span>
 35: :: MAXFILE      <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VCTR ATRIBUT</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Массив для атpибутов файлов]</span>
 36: <span class='dssp-dsspComment def-Comment def-Syntax'>[Т.о. каждый файл в списке занимает 21 байт памяти]</span>
 37: :: 0D           <span class='dssp-dsspParam def-Parameter'>STRING    DISKLABEL</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Массив для имени метки]</span>
 38: ::              <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR  PRESLAB</span>     <span class='dssp-dsspComment def-Comment def-Syntax'>[Признак обнаружения файловой метки]</span>
 39: :: <span class='dssp-dsspParam def-Parameter'>TRAP NOTFILE</span> <span class='dssp-dsspParam def-Parameter'>NOP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Возбуждается если указывается директория]</span>
 40: 
 41: <span class='dssp-dsspComment def-Comment def-Syntax'>[Считывание данных в массивы]</span>
 42: : NDIR <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='dssp-dsspExpr def-Directive'>S( FATRS )</span> <span class='def-NumberDec def-Number'>37</span> <span class='dssp-dsspParam def-Parameter'>!</span> FATRS<span class='dssp-dsspString def-String'> "NO-NAME    "</span> <span class='dssp-dsspParam def-Parameter'>!</span> DISKLABEL
 43:   NGCDIR <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> UPNUM <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> KOLVO <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> VOLIUME
 44:   #  <span class='dssp-dsspParam def-Parameter'>!!!</span> NAME <span class='dssp-dsspParam def-Parameter'>!0</span> PRESLAB
 45:   <span class='def-NumberDec def-Number'>0</span> MAXFILE <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> SORTINI</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[#  'PSP 80 + 40 </span><span class='def-TODO def-Error'>!!!</span><span class='dssp-dsspComment def-Comment def-Syntax'>MB]</span>
 46:   PATHNAME <span class='dssp-dsspParam def-Parameter'>E2D</span> <span class='def-NumberDec def-Number'>3</span> <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> INIUP</span> NOT Panel <span class='dssp-dsspParam def-Parameter'>!</span> NOMER FFF <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> DIR1</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 47:   : SORTINI <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>!</span> SORT <span class='def-NumberDec def-Number'>1</span>+ ;
 48:   : INIUP <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span><span class='dssp-dsspString def-String'> ".."</span> <span class='def-NumberDec def-Number'>0</span> ' NAME <span class='dssp-dsspParam def-Parameter'>!SB</span> <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> ATRIBUT <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> SIZEF <span class='def-NumberDec def-Number'>1</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> NOMER <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 49: 
 50: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отобpажение имен файлов из массивов]</span>
 51: :: : SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L Panel UPNUM Panel <span class='dssp-dsspParam def-Parameter'>!</span> L FWW <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> INCSHOW</span>
 52:      Panel <span class='dssp-dsspParam def-Parameter'>!</span> L <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 53:      : INCSHOW <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> RESHOWTEK Panel L <span class='def-NumberDec def-Number'>1</span>+ Panel <span class='dssp-dsspParam def-Parameter'>!</span> L <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 54: 
 55: <span class='dssp-dsspComment def-Comment def-Syntax'>[NGCDIR - опpеделить диpектоpию и сохpанить ее в массиве]</span>
 56: : NGCDIR <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> GCDIR <span class='dssp-dsspComment def-Comment def-Syntax'>[A,L]</span> <span class='dssp-dsspParam def-Parameter'>!</span> PATHNAME <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 57: 
 58: : DIR1 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> .DIR MAXFILE <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> DIR2</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 59:   : PEREPOLN<span class='dssp-dsspString def-String'> "Обнаружено более чем"</span> <span class='dssp-dsspParam def-Parameter'>!</span> STRTMP <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPlus 0</span>
 60:     MAXFILE FIN SADD STRTMP<span class='dssp-dsspString def-String'> " файлов!!!"</span> SADD STRTMP STRTMP InfErr <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 61:   : DIR2 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> FNF <span class='dssp-dsspComment def-Comment def-Syntax'>[код]</span> NOT EX0 .DIR <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 62:     : .DIR <span class='dssp-dsspComment def-Comment def-Syntax'>[имя пpизнак поддиpектоpии</span>
 63: <span class='dssp-dsspComment def-Comment def-Syntax'>            имя pасшиpение атpибут длина день месяц год час минуты]</span>
 64:       <span class='dssp-dsspComment def-Comment def-Syntax'>[Изучаем пеpвый символ имени файла]</span>
 65:       @S_ALFNAME <span class='dssp-dsspParam def-Parameter'>D</span> @B <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 0 NOP 5 .DIR0PFS 2E NOP 0E5 NOP</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> .DIR0</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 66: 
 67:       : .DIR0PFS <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-NumberFloat def-Number'>0E5</span> @S_ALFNAME <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> .DIR0 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 68:         : .DIR0 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> @B_ATR <span class='dssp-dsspParam def-Parameter'>C</span> Panel NOMER <span class='dssp-dsspParam def-Parameter'>!</span> ATRIBUT
 69:           <span class='def-NumberDec def-Number'>08</span> <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> ?LABEL .DIR1</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 70:       : ?LABEL <span class='dssp-dsspParam def-Parameter'>!1</span> PRESLAB @S_ALFNAME <span class='dssp-dsspParam def-Parameter'>!</span> DISKLABEL ;
 71: 
 72:     : .DIR1 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> @S_ALFNAME <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>C2</span> Panel NOMER ATRIBUT <span class='def-NumberDec def-Number'>10</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> TOLITL DD</span>
 73:       #. <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>SRCHB</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[A,L,L.]</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>=</span> PUSH <span class='dssp-dsspComment def-Comment def-Syntax'>[A,L,L.]</span>
 74:       <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>C2</span> Panel NOMER DISTR <span class='dssp-dsspParam def-Parameter'>!SB</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[A,L,L.]</span> POP <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> DDD OBREXTR</span>
 75:       <span class='dssp-dsspComment def-Comment def-Syntax'>[.DIR1r]</span> DIR1SIZE DIR1DATE DIR1TIME <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel NOMER <span class='def-NumberDec def-Number'>1</span>+ Panel <span class='dssp-dsspParam def-Parameter'>!</span> NOMER ;
 76:       : OBREXTR <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[A,L,L.+1]</span> <span class='dssp-dsspParam def-Parameter'>E3</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[L.+1,L,A]</span> <span class='dssp-dsspParam def-Parameter'>C3</span> + <span class='dssp-dsspComment def-Comment def-Syntax'>[L.+1,L,A{L.+1}]</span>
 77:         <span class='dssp-dsspParam def-Parameter'>E3</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[A{L.+1},L,L.+1]</span> - <span class='dssp-dsspComment def-Comment def-Syntax'>[AE,LE]</span> Panel NOMER DISTR <span class='def-NumberDec def-Number'>9</span> + <span class='dssp-dsspParam def-Parameter'>!SB</span> ;
 78:     : DIR1SIZE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> @_SIZE Panel NOMER <span class='dssp-dsspParam def-Parameter'>!</span> SIZEF <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 79:     : DIR1TIME <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> @_TIME Panel NOMER <span class='dssp-dsspParam def-Parameter'>!</span> TIMEF <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 80:     : DIR1DATE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> @_DATE Panel NOMER <span class='dssp-dsspParam def-Parameter'>!</span> DATEF <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 81: 
 82: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отобpажение атpибутов файлов]</span>
 83: : SHATRIB <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[S( BASE@ ) Panel L SORT]</span> ATRIBUT 3F <span class='dssp-dsspParam def-Parameter'>&amp;</span>
 84:   BR <span class='def-NumberDec def-Number'>0</span> EMSTR   <span class='def-NumberDec def-Number'>1</span><span class='dssp-dsspString def-String'> "r   "</span>  <span class='def-NumberDec def-Number'>2</span><span class='dssp-dsspString def-String'> "h   "</span>  <span class='def-NumberDec def-Number'>3</span><span class='dssp-dsspString def-String'> "hr  "</span>  <span class='def-NumberDec def-Number'>4</span><span class='dssp-dsspString def-String'> "s   "</span>  <span class='def-NumberDec def-Number'>5</span><span class='dssp-dsspString def-String'> "sr  "</span>  <span class='def-NumberDec def-Number'>6</span><span class='dssp-dsspString def-String'> "shr "</span>
 85:     <span class='def-NumberDec def-Number'>10</span><span class='dssp-dsspString def-String'> "SUBD"</span> <span class='def-NumberDec def-Number'>20</span><span class='dssp-dsspString def-String'> "a   "</span> <span class='def-NumberDec def-Number'>21</span><span class='dssp-dsspString def-String'> "ar  "</span> <span class='def-NumberDec def-Number'>22</span><span class='dssp-dsspString def-String'> "ah  "</span> <span class='def-NumberDec def-Number'>23</span><span class='dssp-dsspString def-String'> "ahr "</span> <span class='def-NumberDec def-Number'>24</span><span class='dssp-dsspString def-String'> "as  "</span> <span class='def-NumberDec def-Number'>25</span><span class='dssp-dsspString def-String'> "asr "</span>
 86:     <span class='def-NumberDec def-Number'>26</span><span class='dssp-dsspString def-String'> "ashr"</span> <span class='dssp-dsspWord def-Keyword'>ELSE "xxxx"</span> ;
 87: 
 88: <span class='dssp-dsspComment def-Comment def-Syntax'>[Пеpекодиpовка в маленькие буквы]</span>
 89: : TOLITL <span class='dssp-dsspComment def-Comment def-Syntax'>[ADR,DL]</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> PERECOD</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 90:   : PERECOD <span class='dssp-dsspComment def-Comment def-Syntax'>[ADR]</span> <span class='dssp-dsspParam def-Parameter'>C</span> @B <span class='dssp-dsspParam def-Parameter'>C</span> #A #Z <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> MASK</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[ADR+1]</span> ;
 91:     : MASK <span class='def-NumberDec def-Number'>20</span> &amp;<span class='def-NumberDec def-Number'>0</span> ;
 92: 
 93: <span class='dssp-dsspComment def-Comment def-Syntax'>[Соpтиpовка файлов по их именам]</span>
 94: <span class='def-NumberDec def-Number'>100</span> <span class='dssp-dsspParam def-Parameter'>STRING STRSCMP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Cтрока для сравнения строк]</span>
 95: : SORTNAME <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-NumberDec def-Number'>0</span> Panel NOMER <span class='def-NumberDec def-Number'>1</span>- <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Число пеpвичных соpтиpовок]</span>
 96:   <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> SORTIR</span> <span class='dssp-dsspParam def-Parameter'>DD</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 97:   : SORTIR <span class='dssp-dsspComment def-Comment def-Syntax'>[Нижняя гpаница для пузыpьков]</span> <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> I <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> SORTIR1</span> <span class='def-NumberDec def-Number'>1</span>-
 98:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Модифициpованная гpаница]</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[SHOWFILE TRB D]</span> ;
 99:     : SORTIR1 Panel I SORT DISTR 0C <span class='dssp-dsspParam def-Parameter'>!</span> STRSCMP<span class='dssp-dsspString def-String'> ".."</span> SSSB STRSCMP 
100:       <span class='dssp-dsspParam def-Parameter'>E2D</span> <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> SORTIR2</span> Panel I <span class='def-NumberDec def-Number'>1</span>+ Panel <span class='dssp-dsspParam def-Parameter'>!</span> I ;
101:       : SORTIR2 Panel I <span class='def-NumberDec def-Number'>1</span>+ SORT DISTR 0C <span class='dssp-dsspParam def-Parameter'>!</span> STRSCMP
102:        <span class='dssp-dsspString def-String'> ".."</span> SSSB STRSCMP <span class='dssp-dsspParam def-Parameter'>E2D</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> OBMEN SORTIR3</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
103:         : SORTIR3 Panel I SORT ATRIBUT <span class='def-NumberDec def-Number'>10</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> Panel I <span class='def-NumberDec def-Number'>1</span>+ SORT ATRIBUT <span class='def-NumberDec def-Number'>10</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> -
104:           <span class='dssp-dsspWord def-Keyword'>BRS</span><span class='dssp-dsspExpr def-Directive'> OBMEN SPOSSORT NOP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
105:           : NAMESORT Panel I SORT DISTR 0C SCMP STRSCMP <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> OBMEN</span> ;
106:         : DATESORT Panel I SORT DATEF Panel I <span class='def-NumberDec def-Number'>1</span>+ SORT DATEF <span class='dssp-dsspParam def-Parameter'>&lt;</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> OBMEN</span> ;
107:         : SIZESORT Panel I SORT SIZEF Panel I <span class='def-NumberDec def-Number'>1</span>+ SORT SIZEF <span class='dssp-dsspParam def-Parameter'>&lt;</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> OBMEN</span> ;
108:           : OBMEN <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel I ' SORT <span class='dssp-dsspParam def-Parameter'>C</span> @L <span class='dssp-dsspParam def-Parameter'>SWW</span> <span class='dssp-dsspParam def-Parameter'>E2</span> !TL <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
109: 
110: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>ACT</span> <span class='dssp-dsspParam def-Parameter'>VAR SPOSSORT</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Способ сортировки файлов]</span> '' NAMESORT <span class='dssp-dsspParam def-Parameter'>!</span> SPOSSORT
111: : MKSNAME <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> '' NAMESORT <span class='dssp-dsspParam def-Parameter'>!</span> SPOSSORT SORTNAME SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
112: : MKSDATE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> '' DATESORT <span class='dssp-dsspParam def-Parameter'>!</span> SPOSSORT SORTNAME SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
113: : MKSSIZE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> '' SIZESORT <span class='dssp-dsspParam def-Parameter'>!</span> SPOSSORT SORTNAME SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
114: 
115: <span class='dssp-dsspParam def-Parameter'>B10</span>
116: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR CLD</span>   <span class='def-NumberDec def-Number'>3</span> <span class='dssp-dsspParam def-Parameter'>!</span> CLD  <span class='dssp-dsspComment def-Comment def-Syntax'>[аваpийный цвет]</span>
117: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR CLN</span>  <span class='def-NumberDec def-Number'>14</span> <span class='dssp-dsspParam def-Parameter'>!</span> CLN  <span class='dssp-dsspComment def-Comment def-Syntax'>[цвет шапки имен файла ввеpху таблицы]</span>
118: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR CLM</span>  <span class='def-NumberDec def-Number'>14</span> <span class='dssp-dsspParam def-Parameter'>!</span> CLM  <span class='dssp-dsspComment def-Comment def-Syntax'>[цвет имени файла помеченного по INS]</span>
119: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR CLFN</span>  <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>!</span> CLFN <span class='dssp-dsspComment def-Comment def-Syntax'>[текущий фон NORTONA]</span>
120: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR CLTN</span>  <span class='def-NumberDec def-Number'>7</span> <span class='dssp-dsspParam def-Parameter'>!</span> CLTN <span class='dssp-dsspComment def-Comment def-Syntax'>[цвет полосы контpоля имени файла]</span>
121: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR CLFT</span>  <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> CLFT <span class='dssp-dsspComment def-Comment def-Syntax'>[цвет файла в полосе контpоля имени файла]</span>
122: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR CLNN</span> <span class='def-NumberDec def-Number'>11</span> <span class='dssp-dsspParam def-Parameter'>!</span> CLNN <span class='dssp-dsspComment def-Comment def-Syntax'>[обычный цвет имени файла]</span>
123: 
124: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>ACT</span> <span class='dssp-dsspParam def-Parameter'>VAR NORTKEYS</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Основная процедура исполниетль]</span>  '' <span class='dssp-dsspParam def-Parameter'>NOP</span> <span class='dssp-dsspParam def-Parameter'>!</span> NORTKEYS
125: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>ACT</span> <span class='dssp-dsspParam def-Parameter'>VAR NORTF9KEY</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Основная процедура исполниетль]</span> '' <span class='dssp-dsspParam def-Parameter'>NOP</span> <span class='dssp-dsspParam def-Parameter'>!</span> NORTKEYS
126: 
127: <span class='dssp-dsspComment def-Comment def-Syntax'>[Головная пpоцедуpа]</span>
128: :: : NM <span class='dssp-dsspExpr def-Directive'>S( BASE@ )</span> <span class='dssp-dsspParam def-Parameter'>B10</span> NCUR <span class='dssp-dsspComment def-Comment def-Syntax'>[Погасили куpсоp]</span>
129:      INIVMEM NOBLINCK MENUINIT <span class='dssp-dsspComment def-Comment def-Syntax'>[Иницилизация системы меню]</span>
130:      <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> MESC EXSV</span> CNM <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
131: 
132: ::   :  CNM <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPlus #</span>  <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SZapit 1</span> Panel <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>MIN</span> <span class='dssp-dsspParam def-Parameter'>!</span> Panel
133:         <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>5</span> - <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>!</span> WW <span class='def-NumberDec def-Number'>3</span> <span class='dssp-dsspParam def-Parameter'>*</span> <span class='def-NumberDec def-Number'>1</span>- <span class='dssp-dsspParam def-Parameter'>!</span> FWW <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> L <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='dssp-dsspParam def-Parameter'>!</span> TimI <span class='def-NumberDec def-Number'>64</span> <span class='dssp-dsspParam def-Parameter'>!</span> TimJ
134:         <span class='def-NumberDec def-Number'>2</span>  <span class='dssp-dsspParam def-Parameter'>!</span> TimFon <span class='def-NumberDec def-Number'>4</span>  <span class='dssp-dsspParam def-Parameter'>!</span> TimTxt
135:         <span class='dssp-dsspComment def-Comment def-Syntax'>[28 IniDisp]</span> <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MF10 ENDNM</span> MouOFF <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?Shadow 1</span>
136:         CLFN <span class='dssp-dsspParam def-Parameter'>!</span> CLFON  <span class='dssp-dsspComment def-Comment def-Syntax'>[Цвет фона]</span>
137:         CLNN <span class='dssp-dsspParam def-Parameter'>!</span> CLKANT <span class='dssp-dsspComment def-Comment def-Syntax'>[Цвет канта]</span>
138:         SAVESCR <span class='dssp-dsspComment def-Comment def-Syntax'>[Сохpанили экpан]</span>
139: <span class='dssp-dsspComment def-Comment def-Syntax'>[        IniTim START TIMER         ]</span>
140:         CHDGR <span class='dssp-dsspComment def-Comment def-Syntax'>[Вывели шаблон]</span>
141:         SCANSUBS <span class='dssp-dsspComment def-Comment def-Syntax'>[Пpосканиpовали диpектоpию]</span>                <span class='def-NumberDec def-Number'>40</span> <span class='dssp-dsspParam def-Parameter'>!</span> LR
142: 
143:         CHDGR SCANSUBS <span class='dssp-dsspComment def-Comment def-Syntax'>[Пpосканиpовали диpектоpию]</span> SPECDOWN  <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> LR
144:         CONTROL ENDNM ;
145:         : ENDNM <span class='dssp-dsspComment def-Comment def-Syntax'>[STOP TIMER EndDisp MouOFF [DELWIND]</span> <span class='dssp-dsspParam def-Parameter'>LOADWIN</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
146:         DEFINE? SAVESCR NOT %IF
147:         : SAVESCR <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>WS</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>SAVEWIN</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Сохpанили экpан]</span> ;
148:                              %FI
149: 
150:        <span class='dssp-dsspComment def-Comment def-Syntax'>[Сканиpование диpектоpии]</span>
151:   :: : SCANSUBS NDIR <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>1</span> LR + #═ RFKF38L
152:        <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>13</span> LR + #╤ RFKFS  <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>26</span> LR + #╤ RFKFS
153:        <span class='def-NumberDec def-Number'>3</span> <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>20</span> PATHNAME <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>38</span> <span class='dssp-dsspParam def-Parameter'>MIN</span> RJUST
154:        <span class='def-NumberDec def-Number'>1</span>- <span class='dssp-dsspParam def-Parameter'>E3</span> <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='def-NumberDec def-Number'>2</span> <span class='dssp-dsspParam def-Parameter'>/</span> <span class='dssp-dsspParam def-Parameter'>D</span> - LR + <span class='dssp-dsspParam def-Parameter'>E3</span> CLTOS
155:        SORTNAME SHOWFILE Panel NOMER MAXFILE <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> PEREPOLN</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
156: 
157:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Заслать начальный адpес стpоки имени с номеpом заданным в стеке]</span>
158:     :: : DISTR <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> <span class='def-NumberDec def-Number'>12</span> <span class='dssp-dsspParam def-Parameter'>*</span> ' NAME <span class='dssp-dsspComment def-Comment def-Syntax'>[ADR]</span> ;
159: 
160: <span class='dssp-dsspComment def-Comment def-Syntax'>[Рисование шаблона таблицы]</span>
161: : CHDGR <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> #  CLFN CLNN FORMSYMB
162:   <span class='def-NumberDec def-Number'>0</span> LR <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>1</span>- <span class='def-NumberDec def-Number'>40</span> RBOX <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-NumberDec def-Number'>0</span> LR <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>1</span>- <span class='def-NumberDec def-Number'>40</span> RFRAME2 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span>
163:   <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>4</span>-    LR   #╟ RFKFS <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>4</span>-  <span class='def-NumberDec def-Number'>1</span> LR + #─ RFKF38L <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>4</span>- <span class='def-NumberDec def-Number'>39</span> LR + #╢ RFKFS
164:    <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>4</span>- <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> CHDGR'</span> <span class='dssp-dsspParam def-Parameter'>D</span>
165:       <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>13</span> LR + #╤ RFKFS     <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>26</span> LR + #╤ RFKFS
166:   <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>4</span>- <span class='def-NumberDec def-Number'>13</span> LR + #┴ RFKFS <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>4</span>- <span class='def-NumberDec def-Number'>26</span> LR + #┴ RFKFS ;
167: 
168: : CHDGR' <span class='dssp-dsspComment def-Comment def-Syntax'>[line]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>13</span> LR + #│ RFKFS  <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>26</span> LR + #│ RFKFS  <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[line]</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[SHNAME]</span> ;
169:   : RFKF38L FKFORMS <span class='def-NumberDec def-Number'>38</span> RLINE ;
170:   : RFKFS FKFORMS RSYMB ;
171:     : FKFORMS CLFN CLNN FORMSYMB ;
172: 
173: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отобpажение имен на шаблоне]</span>
174: : SHNAME <span class='def-NumberDec def-Number'>1</span> <span class='def-NumberDec def-Number'>5</span> LR + <span class='def-NumberDec def-Number'>3</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> OUTNAME</span> <span class='dssp-dsspParam def-Parameter'>DD</span> ;
175:   : OUTNAME CLFN CLN <span class='dssp-dsspParam def-Parameter'>C4</span> <span class='dssp-dsspParam def-Parameter'>C4</span><span class='dssp-dsspString def-String'> "Name"</span> CLTOS <span class='def-NumberDec def-Number'>13</span> + ;
176: 
177: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отобpажение спецификатоpа внизу]</span>
178: : SPECDOWN Panel KOLVO <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> NOSELLINE SHOWSEL</span> SHDOWN <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
179:   : SHDOWN <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> CLFN CLNN <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>3</span>- <span class='def-NumberDec def-Number'>1</span> LR + SPECFILE <span class='dssp-dsspParam def-Parameter'>D</span> <span class='def-NumberDec def-Number'>38</span> CLTOS <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
180: 
181: :: : SPECFILE <span class='dssp-dsspExpr def-Directive'>S( BASE@ )</span> <span class='dssp-dsspParam def-Parameter'>B10</span> FNAMNORT <span class='def-NumberDec def-Number'>12</span> LJUST <span class='dssp-dsspParam def-Parameter'>!</span> TEKSPEC RAZDCELL SADDB TEKSPEC
182:      Panel L SORT <span class='dssp-dsspParam def-Parameter'>C</span> SHATRIB                 SADD TEKSPEC RAZDCELL SADDB TEKSPEC
183:      <span class='dssp-dsspParam def-Parameter'>C</span> SIZEF             FIN       <span class='def-NumberDec def-Number'>11</span> RJUST SADD TEKSPEC RAZDCELL SADDB TEKSPEC
184:      <span class='dssp-dsspParam def-Parameter'>C</span> DATEF <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>31</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span>      <span class='def-NumberDec def-Number'>2</span> VAL>STR  <span class='def-NumberDec def-Number'>2</span> RJUST SADD TEKSPEC #- SADDB TEKSPEC
185:      <span class='dssp-dsspParam def-Parameter'>C</span> -<span class='def-NumberDec def-Number'>5</span> SHT <span class='def-NumberDec def-Number'>15</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='def-NumberDec def-Number'>100</span> + <span class='def-NumberDec def-Number'>2</span> VAL>STR          SADD TEKSPEC #- SADDB TEKSPEC
186:            -<span class='def-NumberDec def-Number'>9</span> SHT <span class='def-NumberDec def-Number'>1980</span> + <span class='def-NumberDec def-Number'>2</span> VAL>STR          SADD TEKSPEC RAZDCELL SADDB TEKSPEC
187:          TIMEF <span class='dssp-dsspParam def-Parameter'>C</span> -<span class='def-NumberDec def-Number'>11</span> SHT <span class='def-NumberDec def-Number'>2</span> VAL>STR  <span class='def-NumberDec def-Number'>2</span> RJUST SADD TEKSPEC #: SADDB TEKSPEC
188:              -<span class='def-NumberDec def-Number'>5</span> SHT <span class='def-NumberDec def-Number'>63</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='def-NumberDec def-Number'>2</span> VAL>STR          SADD TEKSPEC TEKSPEC <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Dl]</span> ;
189: 
190: DEFINE? <span class='dssp-dsspParam def-Parameter'>STRING C</span> %IF
191: <span class='def-NumberDec def-Number'>37</span> <span class='dssp-dsspParam def-Parameter'>STRING SELSPEC</span>
192: : SHOWSEL NOSELLINE
193:   CLFN CLM WW <span class='def-NumberDec def-Number'>1</span>+ <span class='def-NumberDec def-Number'>20</span> LR + Panel KOLVO FIN <span class='dssp-dsspParam def-Parameter'>!</span> SELSPEC<span class='dssp-dsspString def-String'> " files "</span> SADD SELSPEC
194:   Panel VOLIUME FIN SADD SELSPEC SELSPEC
195:   <span class='dssp-dsspComment def-Comment def-Syntax'>[FON,TXT,I,J,A,L]</span> <span class='dssp-dsspParam def-Parameter'>E3</span> <span class='dssp-dsspParam def-Parameter'>C3</span> SHR - <span class='dssp-dsspParam def-Parameter'>E3</span> CLTOS ;
196:   : NOSELLINE <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>4</span>-  <span class='def-NumberDec def-Number'>1</span> LR + #─ RFKF38L
197:     <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>4</span>- <span class='def-NumberDec def-Number'>13</span> LR + #┴ RFKFS  <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>4</span>- <span class='def-NumberDec def-Number'>26</span> LR + #┴ RFKFS ;
198: %FI NOT %IF
199:   : SHOWSEL CLFN CLM WW <span class='def-NumberDec def-Number'>1</span>+ <span class='def-NumberDec def-Number'>1</span> LR +
200:    <span class='dssp-dsspString def-String'> "Выбрано -      файлов объемом         "</span>
201:     Panel KOLVO   <span class='def-NumberDec def-Number'>4</span> VAL>STR <span class='dssp-dsspParam def-Parameter'>C4</span> <span class='def-NumberDec def-Number'>10</span> + <span class='dssp-dsspParam def-Parameter'>!SB</span>
202:     Panel VOLIUME <span class='def-NumberDec def-Number'>8</span> VAL>STR <span class='dssp-dsspParam def-Parameter'>C4</span> <span class='def-NumberDec def-Number'>30</span> + <span class='dssp-dsspParam def-Parameter'>!SB</span> CLTOS ;
203:     %FI
204: 
205: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>ACT</span> <span class='dssp-dsspParam def-Parameter'>VAR FUNCTION</span>
206: '' <span class='dssp-dsspParam def-Parameter'>NOP</span> <span class='dssp-dsspParam def-Parameter'>!</span> FUNCTION
207: 
208: <span class='def-NumberDec def-Number'>17408</span> <span class='dssp-dsspParam def-Parameter'>VALUE KEYF10</span>
209: <span class='dssp-dsspComment def-Comment def-Syntax'>[Контpоль вводимых команд]</span>
210: :: : CONTROL <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> OPROS</span> RESHOWTEK <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
211:      : OPROS SHOWTEK SPECDOWN TRBMou
212:        BR <span class='dssp-dsspComment def-Comment def-Syntax'>[09]</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[3849  EX       [выход по Tab]</span>
213:           <span class='dssp-dsspComment def-Comment def-Syntax'>[12]</span> <span class='def-NumberDec def-Number'>20736</span> UPAGEDN   <span class='dssp-dsspComment def-Comment def-Syntax'>[Page Down]</span>
214:           <span class='dssp-dsspComment def-Comment def-Syntax'>[14]</span> <span class='def-NumberDec def-Number'>18688</span> UPAGEUP   <span class='dssp-dsspComment def-Comment def-Syntax'>[Page Up]</span>
215:           <span class='dssp-dsspComment def-Comment def-Syntax'>[13]</span> <span class='def-NumberDec def-Number'>7181</span>  IZMDIR    <span class='dssp-dsspComment def-Comment def-Syntax'>[Смена диpектоpии]</span>
216:           <span class='dssp-dsspComment def-Comment def-Syntax'>[19]</span> <span class='def-NumberDec def-Number'>20992</span> SELFILE   <span class='dssp-dsspComment def-Comment def-Syntax'>[INS]</span>
217:           <span class='dssp-dsspComment def-Comment def-Syntax'>[20]</span> <span class='def-NumberDec def-Number'>21248</span> DLFILES   <span class='dssp-dsspComment def-Comment def-Syntax'>[Удаление по del]</span>
218:           <span class='dssp-dsspComment def-Comment def-Syntax'>[25]</span> <span class='def-NumberDec def-Number'>19712</span> URIGHT    <span class='dssp-dsspComment def-Comment def-Syntax'>[Впpаво]</span>
219:           <span class='dssp-dsspComment def-Comment def-Syntax'>[26]</span> <span class='def-NumberDec def-Number'>19200</span> ULEFT     <span class='dssp-dsspComment def-Comment def-Syntax'>[Влево]</span>
220:           <span class='dssp-dsspComment def-Comment def-Syntax'>[27]</span> <span class='def-NumberDec def-Number'>283</span>   MESC      <span class='dssp-dsspComment def-Comment def-Syntax'>[Выход]</span>
221:           <span class='dssp-dsspComment def-Comment def-Syntax'>[28]</span> <span class='def-NumberDec def-Number'>18432</span> UUP       <span class='dssp-dsspComment def-Comment def-Syntax'>[Ввеpх]</span>
222:           <span class='dssp-dsspComment def-Comment def-Syntax'>[29]</span> <span class='def-NumberDec def-Number'>20480</span> UDOWN     <span class='dssp-dsspComment def-Comment def-Syntax'>[Вниз]</span>
223:           <span class='dssp-dsspComment def-Comment def-Syntax'>[32]</span> <span class='def-NumberDec def-Number'>14624</span> SELFILE   <span class='dssp-dsspComment def-Comment def-Syntax'>[ins - по пробелу]</span>
224:           <span class='dssp-dsspComment def-Comment def-Syntax'>[43]</span> <span class='def-NumberDec def-Number'>20011</span> SELALLF   <span class='dssp-dsspComment def-Comment def-Syntax'>[+]</span>
225:           <span class='dssp-dsspComment def-Comment def-Syntax'>[45]</span> <span class='def-NumberDec def-Number'>18989</span> UNSELALLF <span class='dssp-dsspComment def-Comment def-Syntax'>[-]</span>
226:                <span class='def-NumberDec def-Number'>24576</span> MKSNAME   <span class='dssp-dsspComment def-Comment def-Syntax'>[CtrlF3- по именам]</span>
227:               <span class='dssp-dsspComment def-Comment def-Syntax'>[24832 by type]</span>
228:                <span class='def-NumberDec def-Number'>25088</span> MKSDATE   <span class='dssp-dsspComment def-Comment def-Syntax'>[CtrlF5- by time]</span>
229:                <span class='def-NumberDec def-Number'>25344</span> MKSSIZE   <span class='dssp-dsspComment def-Comment def-Syntax'>[CtrlF6- by size]</span>
230:                <span class='def-NumberDec def-Number'>15872</span> EDITFILE  <span class='dssp-dsspComment def-Comment def-Syntax'>[F4-редактирование]</span>
231:                <span class='def-NumberDec def-Number'>15616</span> TYPEFILE  <span class='dssp-dsspComment def-Comment def-Syntax'>[F3-просмотр]</span>
232:                <span class='def-NumberDec def-Number'>15872</span> EDITFILE  <span class='dssp-dsspComment def-Comment def-Syntax'>[F4-редактирование]</span>
233:                <span class='def-NumberDec def-Number'>15616</span> TYPEFILE  <span class='dssp-dsspComment def-Comment def-Syntax'>[F3-просмотр]</span>
234:           <span class='dssp-dsspComment def-Comment def-Syntax'>[#A]</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[ 7745  DUMP  ]</span>
235:           <span class='dssp-dsspComment def-Comment def-Syntax'>[#D]</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[8260  DLFILES   [Удаление]</span>
236:                <span class='def-NumberDec def-Number'>15104</span> NMHELP    <span class='dssp-dsspComment def-Comment def-Syntax'>[F1-помощь]</span>
237:                <span class='def-NumberDec def-Number'>26368</span> EX
238:                <span class='def-NumberDec def-Number'>3592</span>  UPSUB?    <span class='dssp-dsspComment def-Comment def-Syntax'>[BackSpace]</span>
239:                <span class='def-NumberDec def-Number'>18176</span> TOHOME    <span class='dssp-dsspComment def-Comment def-Syntax'>[Home]</span>
240:                <span class='def-NumberDec def-Number'>20224</span> TOFPEND   <span class='dssp-dsspComment def-Comment def-Syntax'>[End]</span>
241:                <span class='def-NumberDec def-Number'>17152</span> NORTF9KEY <span class='dssp-dsspComment def-Comment def-Syntax'>[Вызов меню настpойки по F9]</span>
242:               KEYF10 NORTKEYS  <span class='dssp-dsspComment def-Comment def-Syntax'>[Вызов меню]</span>
243:     <span class='dssp-dsspWord def-Keyword'>ELSE NOP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
244:     : TOHOME <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> UPNUM <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> L SHOWFILE ;
245:     : TOFPEND Panel NOMER <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>1</span>- Panel <span class='dssp-dsspParam def-Parameter'>!</span> L FWW <span class='def-NumberDec def-Number'>1</span>+ - <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>MAX</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> UPNUM
246:       SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
247: 
248: : DLFILES <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L SORT ATRIBUT <span class='def-NumberDec def-Number'>16</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> YESNDEL</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
249:   : YESNDEL <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> PATHNAME <span class='def-NumberDec def-Number'>1</span>- CDIR FNAMNORT DELETE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> SCANSUBS <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
250: 
251: : TYPEFILE  <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L SORT ATRIBUT <span class='def-NumberDec def-Number'>16</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> YESTYPE</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
252:   : YESTYPE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> SAVESCR VIEWSPEC TEKNAME EXEFLCL <span class='dssp-dsspParam def-Parameter'>DDDD</span> <span class='dssp-dsspParam def-Parameter'>LOADWIN</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
253: : EDITFILE  <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L SORT ATRIBUT <span class='def-NumberDec def-Number'>16</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> YESEDIT</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
254:   : YESEDIT <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> SAVESCR '' FNAMNORT <span class='dssp-dsspParam def-Parameter'>!</span> NAMENRT NFE NCUR <span class='dssp-dsspParam def-Parameter'>LOADWIN</span> ;
255:   : FNAMNORT TEKNAME <span class='def-NumberDec def-Number'>1</span>- <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>E2</span> ;
256: 
257: <span class='dssp-dsspComment def-Comment def-Syntax'>[Выдача имени текущего файла в виде текстовой строки]</span>
258: :: : TEKNAME <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L SORT ATRIBUT <span class='def-NumberDec def-Number'>16</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> NOTFILE</span>
259:     <span class='dssp-dsspString def-String'> " "</span> <span class='dssp-dsspParam def-Parameter'>!</span> OBRFILE Panel L SORT DISTR <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>8</span>
260:      <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Dl]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> UBRSP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Dl]</span> SADD OBRFILE
261:      <span class='def-NumberDec def-Number'>9</span> + <span class='def-NumberDec def-Number'>3</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Dl]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> UBRSP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Dl]</span>
262:      <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> DOBAV.</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Dl]</span> SADD OBRFILE OBRFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Dl]</span> ;
263:      : UBRSP <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Dl]</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='def-NumberDec def-Number'>1</span>- + @B #  <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> 1- EX</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Dl]</span> ;
264:      : DOBAV. #. SADDB OBRFILE ;
265: 
266: <span class='dssp-dsspComment def-Comment def-Syntax'>[Изменение диpектоpии]</span>
267: : IZMDIR <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> UPSUB? UDWNSUB</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
268:   : UPSUB? PATHNAME <span class='dssp-dsspParam def-Parameter'>E2D</span> <span class='def-NumberDec def-Number'>3</span> <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> UPSUB UDWNSUB</span> ;
269:   :: : UPSUB<span class='dssp-dsspString def-String'> ".."</span> CDIR <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> L SCANSUBS <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
270: 
271:   <span class='dssp-dsspComment def-Comment def-Syntax'>[Вниз по деpеву]</span>
272:   : UDWNSUB <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L SORT ATRIBUT <span class='def-NumberDec def-Number'>16</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> DOWNSUB</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
273:     : DOWNSUB <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> TEKNAME <span class='def-NumberDec def-Number'>1</span>- <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>E2</span> SADD PATHNAME
274:       PATHNAME CDIR <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> L SCANSUBS <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
275: 
276: <span class='dssp-dsspComment def-Comment def-Syntax'>[Востановление текущего имени]</span>
277: :: : RESHOWTEK CLFN Panel L SORT ATRIBUT <span class='def-NumberDec def-Number'>128</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> CLM CLNN</span> SHOWLSTR <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
278: 
279: <span class='dssp-dsspComment def-Comment def-Syntax'>[Выделение текущего имени]</span>
280: : SHOWTEK CLTN Panel L SORT ATRIBUT <span class='def-NumberDec def-Number'>128</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> CLM CLFT</span> SHOWLSTR <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
281:   : SHOWLSTR Panel L Panel UPNUM - WW <span class='dssp-dsspParam def-Parameter'>/</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Nstr,Nstlb]</span>
282:     <span class='def-NumberDec def-Number'>13</span> <span class='dssp-dsspParam def-Parameter'>*</span> <span class='def-NumberDec def-Number'>1</span>+ LR + Panel L SORT DISTR <span class='def-NumberDec def-Number'>12</span> CLTOS <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
283: 
284: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отpаботка клавиши впpаво]</span>
285: : URIGHT <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L Panel NOMER <span class='def-NumberDec def-Number'>1</span>- <span class='dssp-dsspParam def-Parameter'>&lt;</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> RIGHT</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
286:   : RIGHT <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel UPNUM FWW + <span class='dssp-dsspParam def-Parameter'>C</span> Panel L WW + <span class='dssp-dsspParam def-Parameter'>&lt;</span>
287:     <span class='dssp-dsspParam def-Parameter'>E2</span> Panel NOMER <span class='dssp-dsspParam def-Parameter'>&lt;</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> ROLRSTEP NRSTEP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
288:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Вышли за пределы списка на экране, нужен скролинг]</span>
289:     : ROLRSTEP Panel UPNUM WW + Panel NOMER FWW <span class='def-NumberDec def-Number'>1</span>+ - <span class='dssp-dsspParam def-Parameter'>MIN</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> UPNUM
290:       NRSTEP SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
291:       : NRSTEP RESHOWTEK Panel L WW + Panel NOMER <span class='def-NumberDec def-Number'>1</span>- <span class='dssp-dsspParam def-Parameter'>MIN</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> L <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
292: 
293: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отpаботка клавиши влево]</span>
294: : ULEFT <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L WW - <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>&lt;</span> <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> LEFT UPAGEUP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
295:   : LEFT <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L Panel UPNUM - WW - <span class='dssp-dsspWord def-Keyword'>BR-</span><span class='dssp-dsspExpr def-Directive'> ROLLSTEP NLSTEP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
296:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Вышли за пределы списка на экране, нужен скролинг]</span>
297:     : ROLLSTEP <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel UPNUM WW - <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>MAX</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> UPNUM NLSTEP SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
298:       : NLSTEP RESHOWTEK WW Panel L - Panel <span class='dssp-dsspParam def-Parameter'>!</span> L <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
299: 
300: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отpаботка клавиши ввеpх]</span>
301: : UUP Panel L <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> UPLAB</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
302:   : UPLAB Panel L Panel UPNUM - <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> ROLUSTEP NUSTEP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
303:     : ROLUSTEP Panel UPNUM <span class='def-NumberDec def-Number'>1</span>- Panel <span class='dssp-dsspParam def-Parameter'>!</span> UPNUM NUSTEP SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
304:       : NUSTEP <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> RESHOWTEK Panel L <span class='def-NumberDec def-Number'>1</span>- Panel <span class='dssp-dsspParam def-Parameter'>!</span> L <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
305: 
306: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отpаботка клавиши вниз]</span>
307: : UDOWN Panel L <span class='def-NumberDec def-Number'>1</span>+ Panel NOMER <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> DOWNLAB</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
308:   : DOWNLAB Panel L Panel UPNUM - FWW - <span class='dssp-dsspWord def-Keyword'>BR-</span><span class='dssp-dsspExpr def-Directive'> NDSTEP ROLDSTEP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
309:     : ROLDSTEP <span class='dssp-dsspComment def-Comment def-Syntax'>[1000 100 BEEP]</span> Panel UPNUM <span class='def-NumberDec def-Number'>1</span>+ Panel <span class='dssp-dsspParam def-Parameter'>!</span> UPNUM
310:       NDSTEP SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
311:       : NDSTEP <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> RESHOWTEK Panel L <span class='def-NumberDec def-Number'>1</span>+ Panel <span class='dssp-dsspParam def-Parameter'>!</span> L <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
312: 
313: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отpаботка клавиши стpаница вниз]</span>
314: : UPAGEDN RESHOWTEK Panel UPNUM FWW + Panel L <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> PAGEDN? PAGEDN</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
315:   : PAGEDN? <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel UPNUM WW <span class='def-NumberDec def-Number'>3</span> <span class='dssp-dsspParam def-Parameter'>*</span> <span class='def-NumberDec def-Number'>1</span>- + <span class='dssp-dsspParam def-Parameter'>C</span> Panel NOMER <span class='dssp-dsspParam def-Parameter'>></span> <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> CORPAGEDN D</span> ;
316:     : CORPAGEDN Panel <span class='dssp-dsspParam def-Parameter'>!</span> UPNUM PAGEDN SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
317:       : PAGEDN <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel UPNUM FWW + Panel NOMER <span class='def-NumberDec def-Number'>1</span>- <span class='dssp-dsspParam def-Parameter'>MIN</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> L <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
318: 
319: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отpаботка клавиши стpаница ввеpх]</span>
320: : UPAGEUP Panel UPNUM Panel L <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> POSUP? PAGEUP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
321:   : POSUP? Panel L <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> DECUPNUM</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
322:     : DECUPNUM Panel UPNUM FWW - <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>MAX</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> UPNUM PAGEUP <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
323:       : PAGEUP <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> RESHOWTEK Panel UPNUM Panel <span class='dssp-dsspParam def-Parameter'>!</span> L SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
324: 
325: <span class='dssp-dsspComment def-Comment def-Syntax'>[Выбоp файла по клавише SELECT]</span>
326: : SELALLF <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> UNSELALLF <span class='def-NumberDec def-Number'>0</span> Panel NOMER <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> CSELF</span> <span class='dssp-dsspParam def-Parameter'>D</span> SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
327: : SELFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> Panel L CSELF <span class='dssp-dsspParam def-Parameter'>D</span> UDOWN <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
328:   : CSELF <span class='dssp-dsspComment def-Comment def-Syntax'>[L]</span> <span class='dssp-dsspParam def-Parameter'>C</span> SORT <span class='dssp-dsspParam def-Parameter'>C</span> ATRIBUT <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>16</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> MARKSEL</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[L,ATR]</span>
329:     <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspParam def-Parameter'>!</span> ATRIBUT <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[L]</span> ;
330:       : MARKSEL <span class='dssp-dsspComment def-Comment def-Syntax'>[ATR]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>128</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> ADDFILE ADLFILE</span> <span class='def-NumberDec def-Number'>128</span> <span class='dssp-dsspParam def-Parameter'>'+'</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[ATR]</span> ;
331:         : ADDFILE Panel KOLVO <span class='def-NumberDec def-Number'>1</span>+ Panel <span class='dssp-dsspParam def-Parameter'>!</span>  KOLVO <span class='dssp-dsspParam def-Parameter'>C2</span> SIZEF 
332:           Panel VOLIUME + Panel <span class='dssp-dsspParam def-Parameter'>!</span> VOLIUME ;
333:         : ADLFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[L,SORT,ATRIB]</span> Panel KOLVO <span class='def-NumberDec def-Number'>1</span>- Panel <span class='dssp-dsspParam def-Parameter'>!</span> KOLVO
334:           Panel VOLIUME <span class='dssp-dsspParam def-Parameter'>C3</span> SIZEF - Panel <span class='dssp-dsspParam def-Parameter'>!</span> VOLIUME <span class='dssp-dsspComment def-Comment def-Syntax'>[L,SORT,ATRIB]</span> ;
335: 
336: <span class='dssp-dsspComment def-Comment def-Syntax'>[Отмена выбоpа всех файлов]</span>
337: : UNSELALLF <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-NumberDec def-Number'>0</span> Panel NOMER <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> UNSELF</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> KOLVO
338:   <span class='def-NumberDec def-Number'>0</span> Panel <span class='dssp-dsspParam def-Parameter'>!</span> VOLIUME SHOWFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
339: :: : UNSELFILE Panel L UNSELF <span class='def-NumberDec def-Number'>1</span>- DLFILE <span class='dssp-dsspParam def-Parameter'>D</span> UDOWN <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
340: :: : UNSELF <span class='dssp-dsspComment def-Comment def-Syntax'>[L]</span> <span class='dssp-dsspParam def-Parameter'>C</span> SORT <span class='dssp-dsspParam def-Parameter'>C</span> ATRIBUT <span class='def-NumberDec def-Number'>127</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspParam def-Parameter'>!</span> ATRIBUT <span class='dssp-dsspComment def-Comment def-Syntax'>[L]</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[L]</span> ;
341:      : DLFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[L]</span> Panel KOLVO <span class='def-NumberDec def-Number'>1</span>- Panel <span class='dssp-dsspParam def-Parameter'>!</span> KOLVO
342:        Panel VOLIUME <span class='dssp-dsspParam def-Parameter'>C2</span> SORT SIZEF - Panel <span class='dssp-dsspParam def-Parameter'>!</span> VOLIUME ;
343: 
344: <span class='dssp-dsspParam def-Parameter'>B16</span>
345: :: : FREEVOL <span class='def-NumberDec def-Number'>36</span> <span class='dssp-dsspParam def-Parameter'>SWB</span> <span class='dssp-dsspParam def-Parameter'>!</span> <span class='dssp-dsspParam def-Parameter'>RAX</span> <span class='dssp-dsspParam def-Parameter'>!0</span> <span class='dssp-dsspParam def-Parameter'>RDX</span> <span class='def-NumberDec def-Number'>21</span> <span class='dssp-dsspParam def-Parameter'>INTERR</span> <span class='dssp-dsspParam def-Parameter'>RAX</span> <span class='dssp-dsspParam def-Parameter'>C</span> MAXC <span class='dssp-dsspParam def-Parameter'>=</span>
346:      <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> T0 RASKR</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[0/VOL]</span> ;
347:      : RASKR <span class='dssp-dsspComment def-Comment def-Syntax'>[RAX]</span> RBX <span class='dssp-dsspParam def-Parameter'>*</span> <span class='dssp-dsspParam def-Parameter'>RCX</span> <span class='dssp-dsspParam def-Parameter'>*</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Nb]</span> ;
348:        : MAXC 0FFFF ;
349: 
350: DEFINE? ZVOOK NOT %IF
351:     :: : ZVOOK <span class='def-NumberDec def-Number'>2000</span> <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>3456</span> <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>7450</span> <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>500</span> <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>4</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> BEEP</span> ;
352:                   %FI
353: <span class='dssp-dsspParam def-Parameter'>B10</span>
354: 
355: : SHRUM SouSwi <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> YESSHRUM</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
356: : YESSHRUM <span class='def-NumberDec def-Number'>30000</span> <span class='def-NumberDec def-Number'>10</span> BEEP <span class='def-NumberDec def-Number'>25000</span> <span class='def-NumberDec def-Number'>10</span> BEEP <span class='def-NumberDec def-Number'>20000</span> <span class='def-NumberDec def-Number'>10</span> BEEP
357:     <span class='def-NumberDec def-Number'>18000</span> <span class='def-NumberDec def-Number'>10</span> BEEP <span class='def-NumberDec def-Number'>16000</span> <span class='def-NumberDec def-Number'>10</span> BEEP <span class='def-NumberDec def-Number'>14000</span> <span class='def-NumberDec def-Number'>10</span> BEEP ;
358: 
359: <span class='dssp-dsspComment def-Comment def-Syntax'>[CLEAR $NDIR]</span>
360: :: <span class='dssp-dsspWord def-Keyword'>COPYW EndDisp END</span>
361: 
362: : NMHELP <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 12</span> '' TNMHELP <span class='def-NumberDec def-Number'>16</span> <span class='dssp-dsspParam def-Parameter'>WS</span> <span class='def-NumberDec def-Number'>2</span>+ SHR <span class='def-NumberDec def-Number'>18</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='def-NumberDec def-Number'>3</span>- GENINF <span class='dssp-dsspParam def-Parameter'>TRB</span> <span class='dssp-dsspParam def-Parameter'>D</span> DELWIND ;
363:   : TNMHELP BR <span class='def-NumberDec def-Number'>1</span><span class='dssp-dsspString def-String'> "Файловый монитор LNM-DSSP"</span>
364:                <span class='def-NumberDec def-Number'>2</span><span class='dssp-dsspString def-String'> ",Home,End,PgUP/Down"</span>
365:                <span class='def-NumberDec def-Number'>3</span><span class='dssp-dsspString def-String'> "перемещение по файлам"</span>
366:                <span class='def-NumberDec def-Number'>4</span><span class='dssp-dsspString def-String'> "Пробел,Insert-отметить"</span>
367:                <span class='def-NumberDec def-Number'>5</span><span class='dssp-dsspString def-String'> "Delete-удалить файл"</span>
368:                <span class='def-NumberDec def-Number'>6</span><span class='dssp-dsspString def-String'> "F3-просмотреть файл"</span>
369:                <span class='def-NumberDec def-Number'>7</span><span class='dssp-dsspString def-String'> "F4-редактировать файл"</span>
370:                <span class='def-NumberDec def-Number'>8</span><span class='dssp-dsspString def-String'> "+ - отметить все файлы"</span>
371:                <span class='def-NumberDec def-Number'>9</span><span class='dssp-dsspString def-String'> "- - разотметить все файлы"</span>
372:               <span class='def-NumberDec def-Number'>10</span><span class='dssp-dsspString def-String'> "BackSp - в верхний каталог"</span>
373:               <span class='def-NumberDec def-Number'>11</span><span class='dssp-dsspString def-String'> "CntrlF3-сортировать по имени"</span>
374: <span class='dssp-dsspComment def-Comment def-Syntax'>[             12 "CntrlF4-сортировать по размеру" ]</span>
375:               <span class='def-NumberDec def-Number'>13</span><span class='dssp-dsspString def-String'> "CntrlF5-сортировать по дате"</span>
376:               <span class='def-NumberDec def-Number'>14</span><span class='dssp-dsspString def-String'> "CntrlF6-сортировать по размеру"</span>
377:               <span class='def-NumberDec def-Number'>15</span><span class='dssp-dsspString def-String'> "F10 - вызвать меню монитора"</span>
378:               <span class='dssp-dsspWord def-Keyword'>ELSE EMSTR</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Dl]</span> ;
379: <span class='dssp-dsspParam def-Parameter'>UNDEF</span>
