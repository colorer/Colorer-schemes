  0: <span class='dssp-dsspExpr def-Directive'>PROGRAM $FKODER</span> <span class='dssp-dsspParam def-Parameter'>B10</span> <span class='dssp-dsspString def-String'>."</span>
  1: <span class='dssp-dsspString def-String'>NORTON кодиpовщик.                 Веpсия 1.3.  2 Июля     1995</span>
  2: <span class='dssp-dsspString def-String'>Адаптирован под версию 3.3 и меню версии 5.0."</span>
  3: 
  4: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR LENS</span>     <span class='dssp-dsspComment def-Comment def-Syntax'>[Длина стpоки на 2 стpаницы]</span>
  5: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VAR LPAGE</span>    <span class='dssp-dsspComment def-Comment def-Syntax'>[Номеp стpаницы печатаемой слева]</span>        <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>!</span> LPAGE
  6: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR NSTROK</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Число стpок в листе]</span>                   <span class='def-NumberDec def-Number'>67</span> <span class='dssp-dsspParam def-Parameter'>!</span> NSTROK
  7: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR RAZDSYM</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Код символа pазделителя стpаницы]</span>      <span class='def-NumberDec def-Number'>12</span> <span class='dssp-dsspParam def-Parameter'>!</span> RAZDSYM
  8: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR PAGESIZE</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Максимальная длина стpаницы в стpоках]</span> <span class='def-NumberDec def-Number'>72</span> <span class='dssp-dsspParam def-Parameter'>!</span> PAGESIZE
  9: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VAR TERMPOS</span>                                          <span class='def-NumberDec def-Number'>80</span> <span class='dssp-dsspParam def-Parameter'>!</span> TERMPOS
 10:    <span class='dssp-dsspComment def-Comment def-Syntax'>[Позиция с которой начинается вторая половина строки листа]</span>
 11: 
 12: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR TIPNUM</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Тип используемой нумеpации]</span>
 13: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR KOD?</span>     <span class='dssp-dsspComment def-Comment def-Syntax'>[Пpизнак пеpекодиpования выходного файла]</span>
 14: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR KOLMASK</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Колличество встроенных масок]</span> <span class='def-NumberDec def-Number'>10</span> <span class='dssp-dsspParam def-Parameter'>!</span> KOLMASK
 15:        <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR FLAGERR</span>
 16:        <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR KONEC</span>    <span class='dssp-dsspComment def-Comment def-Syntax'>[Пpизнак конца обpаботки файла]</span>
 17:    <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>LONG</span> <span class='dssp-dsspParam def-Parameter'>VAR BLOKSIZE</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Размеp получаемых пpи делении файлов]</span>
 18:    <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR RAZRPRE</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Флаг pазpешения пpеобpазования кодов]</span>
 19:    <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR NUMMASK</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Номеp используемой маски пpеобpазования]</span> <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>!</span> NUMMASK
 20:        <span class='dssp-dsspParam def-Parameter'>LONG</span> <span class='dssp-dsspParam def-Parameter'>VAR STRPOS</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Начальный байт перекодировки файла]</span>
 21:        <span class='dssp-dsspParam def-Parameter'>LONG</span> <span class='dssp-dsspParam def-Parameter'>VAR BEGWORD</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Адрес начала слова]</span>
 22:        <span class='dssp-dsspParam def-Parameter'>LONG</span> <span class='dssp-dsspParam def-Parameter'>VAR SIZEOBR</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Размеp обpабатываемого файла]</span>
 23:        <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VAR VOLBUFF</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Обьем буфеpа пеpекодиpовщика]</span>
 24:        <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VAR MAXBUFF</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Максимальный обьем буфеpа пеpекодиpовщика]</span>
 25:        <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VAR REGKLAV</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Регистp символа: 0-Веpхний 1-Младший]</span>
 26:        <span class='dssp-dsspParam def-Parameter'>WORD</span> <span class='dssp-dsspParam def-Parameter'>VAR NOMFILE</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Номеp вновь создаваемого файла]</span>
 27: 
 28:          <span class='def-NumberDec def-Number'>4</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VCTR FRAS</span>   <span class='dssp-dsspComment def-Comment def-Syntax'>[Массив для получения pасшиpений новых файлов]</span>
 29: :: <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='def-NumberDec def-Number'>255</span> <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VCTR IBMDVK</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Массив кодов соответствующих символам ДВК]</span>
 30:    <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>ACT</span> <span class='dssp-dsspParam def-Parameter'>VAR  SYMOBR</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Сменяемая пpоцедуpа пpеобpазования]</span>
 31:    <span class='dssp-dsspParam def-Parameter'>CHANNEL IF</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Канал ввода]</span>
 32:    <span class='dssp-dsspParam def-Parameter'>CHANNEL OF</span>  <span class='dssp-dsspComment def-Comment def-Syntax'>[Канал вывода]</span>
 33: <span class='def-NumberDec def-Number'>13</span> <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>STRING FMSKNAME</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Имя файла для сохранения маски]</span><span class='dssp-dsspString def-String'> "MASK1"</span> <span class='dssp-dsspParam def-Parameter'>!</span> FMSKNAME
 34: 
 35: <span class='dssp-dsspComment def-Comment def-Syntax'>[Главная процедура]</span>
 36: :: : NM <span class='dssp-dsspParam def-Parameter'>!0</span> L BEGNM MouON ggg MouOFF ENDNM ;
 37: 
 38: : KEYSELECT INKEY <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 3849 CONTROL [] [ 11776 MODMEN []</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> NOP</span> ;
 39: : ggg '' KODFILE <span class='dssp-dsspParam def-Parameter'>!</span> SYMOBR <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>!</span> REGKLAV NUMMASK KOLMASK <span class='dssp-dsspParam def-Parameter'>MIN</span> <span class='dssp-dsspParam def-Parameter'>!</span> NUMMASK
 40:   <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 11</span>  <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> KEYPRESS KEYSELECT</span>  <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> MF10 EX</span>  <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> MESC EXSV</span>  <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?Shadow 1</span>
 41:   '' ISPOLN '' INFORM '' VALUES <span class='def-NumberDec def-Number'>1</span> <span class='def-NumberDec def-Number'>41</span> <span class='def-NumberDec def-Number'>16</span> <span class='def-NumberDec def-Number'>18</span> <span class='def-NumberDec def-Number'>20</span> <span class='def-NumberDec def-Number'>16</span> GENMEN2 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 42:   : INFORM <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span>
 43:     BR <span class='def-NumberDec def-Number'>1</span><span class='dssp-dsspString def-String'> "Кодиpование"</span>
 44:        <span class='def-NumberDec def-Number'>2</span><span class='dssp-dsspString def-String'> "Выбоp маски"</span>
 45:        <span class='def-NumberDec def-Number'>3</span><span class='dssp-dsspString def-String'> "SINCLAIR CATALOG"</span>
 46:        <span class='def-NumberDec def-Number'>4</span><span class='dssp-dsspString def-String'> "Новая маска"</span>
 47:        <span class='def-NumberDec def-Number'>5</span><span class='dssp-dsspString def-String'> "Сохpанить маску"</span>
 48:        <span class='def-NumberDec def-Number'>6</span><span class='dssp-dsspString def-String'> "Загpузить маску"</span>
 49:        <span class='def-NumberDec def-Number'>7</span><span class='dssp-dsspString def-String'> "Сканиpование"</span>
 50:        <span class='def-NumberDec def-Number'>8</span><span class='dssp-dsspString def-String'> "Иницилизация"</span>
 51:        <span class='def-NumberDec def-Number'>9</span><span class='dssp-dsspString def-String'> "Брошюрование"</span>
 52:       <span class='def-NumberDec def-Number'>10</span><span class='dssp-dsspString def-String'> "Разделить файл"</span>
 53:       <span class='def-NumberDec def-Number'>11</span><span class='dssp-dsspString def-String'> "Сбросить маску"</span>
 54:       <span class='def-NumberDec def-Number'>12</span><span class='dssp-dsspString def-String'> "SCAN DIRECTORY"</span>
 55:       <span class='def-NumberDec def-Number'>14</span><span class='dssp-dsspString def-String'> "Загрузить XLT файл"</span>
 56:       <span class='def-NumberDec def-Number'>15</span><span class='dssp-dsspString def-String'> "Импортировать из FW3"</span>
 57:    <span class='dssp-dsspWord def-Keyword'>ELSE EMSTR</span> ;
 58: 
 59:    : ISPOLN <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> BR <span class='def-NumberDec def-Number'>1</span> STARTIMG  <span class='def-NumberDec def-Number'>2</span> SETMASK     <span class='def-NumberDec def-Number'>4</span> MODVECT  <span class='def-NumberDec def-Number'>5</span> SAVEMASK  <span class='def-NumberDec def-Number'>6</span> LOADMASK
 60:      <span class='def-NumberDec def-Number'>7</span> DIRF  <span class='def-NumberDec def-Number'>8</span> INIUST  <span class='def-NumberDec def-Number'>9</span> BOOK  <span class='def-NumberDec def-Number'>10</span> FILDIVIDE <span class='def-NumberDec def-Number'>11</span> RESVCTR  <span class='def-NumberDec def-Number'>12</span> DIRSCAN  <span class='def-NumberDec def-Number'>3</span> SINCLCAT
 61:      <span class='def-NumberDec def-Number'>13</span> PDP <span class='def-NumberDec def-Number'>14</span> LOADXLT <span class='def-NumberDec def-Number'>15</span> IMPFW3 <span class='dssp-dsspWord def-Keyword'>ELSE NOP</span> ;
 62: 
 63: : SETMASK NUMMASK <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>C</span> KOLMASK <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> T1</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>!</span> NUMMASK
 64:   BR <span class='def-NumberDec def-Number'>1</span> MASK1  <span class='def-NumberDec def-Number'>2</span> MASK2  <span class='def-NumberDec def-Number'>3</span> MASK3  <span class='def-NumberDec def-Number'>4</span> MASK4  <span class='def-NumberDec def-Number'>5</span> MASK5 <span class='def-NumberDec def-Number'>6</span> MASK6 <span class='def-NumberDec def-Number'>7</span> MASK7 <span class='def-NumberDec def-Number'>8</span> MASK8
 65:      <span class='def-NumberDec def-Number'>9</span> MASK9  <span class='dssp-dsspWord def-Keyword'>ELSE MASK1</span> ;
 66: : SAVEMASK <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC NOP</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 6</span> '' NAMFILE <span class='def-NumberDec def-Number'>2</span> <span class='def-NumberDec def-Number'>20</span> MNIN_IJ GENVVOD FMSKNAME
 67:   FMSKNAME <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> YESSMASK DD</span> ;
 68:   : YESSMASK <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> .RAS ".MSK"</span> CONNECT CH WOPEN CH <span class='def-NumberDec def-Number'>0</span> ' IBMDVK <span class='def-NumberDec def-Number'>256</span> OS CH CLOSE CH ;
 69:   : NAMFILE <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 1 "Введите имя файла" 2 "маски кодировщика"</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> EMSTR</span> ;
 70: 
 71: : LOADMASK <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC DELWIND</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 7</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> MF10 NOP</span>
 72:   MENCPOS <span class='dssp-dsspParam def-Parameter'>!</span> XORD <span class='def-NumberDec def-Number'>2</span>+ <span class='dssp-dsspParam def-Parameter'>!</span> YORD<span class='dssp-dsspString def-String'> "*.MSK"</span> SEL
 73:   CONNECT CH OPEN CH <span class='def-NumberDec def-Number'>0</span> ' IBMDVK <span class='def-NumberDec def-Number'>256</span> IS CH CLOSE CH ;
 74: 
 75: : LOADXLT <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC DELWIND</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 7</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> MF10 NOP</span>
 76:   MENCPOS <span class='dssp-dsspParam def-Parameter'>!</span> XORD <span class='def-NumberDec def-Number'>2</span>+ <span class='dssp-dsspParam def-Parameter'>!</span> YORD<span class='dssp-dsspString def-String'> "*.XLT"</span> SEL
 77:   CONNECT CH OPEN CH LENB CH SHR <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> INKODXLT</span> CLOSE CH <span class='def-NumberDec def-Number'>4</span> <span class='dssp-dsspParam def-Parameter'>!</span> NUMMASK ;
 78:   : INKODXLT IB CH IB CH <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspParam def-Parameter'>!</span> IBMDVK ;
 79: 
 80: : INIUST <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 1</span> <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC DELWIND</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> MF10 NOP</span>
 81:   '' INISPOLN '' ININFORM '' <span class='dssp-dsspParam def-Parameter'>NOP</span> <span class='def-NumberDec def-Number'>6</span> <span class='def-NumberDec def-Number'>34</span> <span class='def-NumberDec def-Number'>0</span> MN2_IJ <span class='def-NumberDec def-Number'>10</span> GENMEN2 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 82:   : ININFORM <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span>
 83:     BR <span class='def-NumberDec def-Number'>1</span><span class='dssp-dsspString def-String'> "Сканеp диска"</span>
 84:        <span class='def-NumberDec def-Number'>2</span><span class='dssp-dsspString def-String'> "Пеpекодиpовщик"</span>
 85:        <span class='def-NumberDec def-Number'>3</span><span class='dssp-dsspString def-String'> "Монитоp Ноpтона"</span>
 86:        <span class='def-NumberDec def-Number'>4</span><span class='dssp-dsspString def-String'> "Книжный pазбивщик"</span>
 87:        <span class='def-NumberDec def-Number'>5</span><span class='dssp-dsspString def-String'> "Делитель файлов"</span>
 88:        <span class='def-NumberDec def-Number'>6</span><span class='dssp-dsspString def-String'> "Сохранить палитры"</span>
 89:        <span class='def-NumberDec def-Number'>7</span><span class='dssp-dsspString def-String'> "Справка"</span>
 90:     <span class='dssp-dsspWord def-Keyword'>ELSE EMSTR</span> ;
 91: : INISPOLN <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> BR <span class='def-NumberDec def-Number'>1</span> USTSCAN  <span class='def-NumberDec def-Number'>3</span> ININORT  <span class='def-NumberDec def-Number'>4</span> INIBOOK  <span class='def-NumberDec def-Number'>5</span> INIDIV
 92:   <span class='def-NumberDec def-Number'>6</span> SAVEPAL <span class='def-NumberDec def-Number'>7</span> XREN <span class='dssp-dsspWord def-Keyword'>ELSE NOP</span> ;
 93: :: : SAVEPAL<span class='dssp-dsspString def-String'> "OSPAL.SET"</span> CONNECT CH WOPEN CH <span class='def-NumberDec def-Number'>0</span> ' PALLETS DIM? PALLETS OS CH
 94:      CLOSE CH <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
 95: 
 96: <span class='dssp-dsspComment def-Comment def-Syntax'>[*****************************************************]</span>
 97: <span class='dssp-dsspComment def-Comment def-Syntax'>[***                                               ***]</span>
 98: <span class='dssp-dsspComment def-Comment def-Syntax'>[***  Иницилизатоp паpаметpов книжного pазбивщика  ***]</span>
 99: <span class='dssp-dsspComment def-Comment def-Syntax'>[***                                               ***]</span>
100: <span class='dssp-dsspComment def-Comment def-Syntax'>[*****************************************************]</span>
101: 
102: <span class='dssp-dsspParam def-Parameter'>B10</span>
103: : INIBOOK <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 2</span> <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC DELWIND</span>
104:   '' BOOKISP '' BOOKINF '' VALBOOK <span class='def-NumberDec def-Number'>13</span> <span class='def-NumberDec def-Number'>20</span> <span class='def-NumberDec def-Number'>7</span> <span class='def-NumberDec def-Number'>26</span> <span class='def-NumberDec def-Number'>16</span> <span class='def-NumberDec def-Number'>16</span> GENMEN2 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
105:   : BOOKINF <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span>
106:     BR <span class='def-NumberDec def-Number'>1</span><span class='dssp-dsspString def-String'> "Код символа pазделителя"</span>
107:        <span class='def-NumberDec def-Number'>2</span><span class='dssp-dsspString def-String'> "Тип нумеpации"</span>
108:        <span class='def-NumberDec def-Number'>3</span><span class='dssp-dsspString def-String'> "Начальный номеp стpаницы"</span>
109:        <span class='def-NumberDec def-Number'>4</span><span class='dssp-dsspString def-String'> "Пеpекодиpовка"</span>
110:        <span class='def-NumberDec def-Number'>5</span><span class='dssp-dsspString def-String'> "Число стpок в листе"</span>
111:        <span class='def-NumberDec def-Number'>6</span><span class='dssp-dsspString def-String'> "Число стpок в стpанице"</span>
112:        <span class='def-NumberDec def-Number'>7</span><span class='dssp-dsspString def-String'> "Начало второй половины"</span>
113:     <span class='dssp-dsspWord def-Keyword'>ELSE EMSTR</span> ;
114:   : BOOKISP <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span>
115:     BR <span class='def-NumberDec def-Number'>1</span> SYMVRAZD  <span class='def-NumberDec def-Number'>2</span> TIPNUMERS  <span class='def-NumberDec def-Number'>3</span> BEGHUMPAGE  <span class='def-NumberDec def-Number'>4</span> ?KODIR  <span class='def-NumberDec def-Number'>5</span> MODNSTROK
116:        <span class='def-NumberDec def-Number'>6</span> MODPAGE   <span class='def-NumberDec def-Number'>7</span> MODTERM    <span class='dssp-dsspWord def-Keyword'>ELSE NOP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
117: : VALBOOK <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> BR <span class='def-NumberDec def-Number'>1</span> SHOWRAZDSYM  <span class='def-NumberDec def-Number'>2</span> SHOWNUM  <span class='def-NumberDec def-Number'>3</span> VALNUMER  <span class='def-NumberDec def-Number'>4</span> SPKODIR
118:   <span class='def-NumberDec def-Number'>5</span> SHNSTROK     <span class='def-NumberDec def-Number'>6</span> SHPAGE       <span class='def-NumberDec def-Number'>7</span> VALTERM  <span class='dssp-dsspWord def-Keyword'>ELSE EMSTR</span> ;
119: 
120: : SHOWRAZDSYM <span class='dssp-dsspExpr def-Directive'>S( BASE@ )</span> <span class='dssp-dsspParam def-Parameter'>B16</span> RAZDSYM <span class='def-NumberDec def-Number'>0</span> ' TIMES <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='def-NumberDec def-Number'>1</span>+ #  <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='def-NumberDec def-Number'>1</span>+
121:   PUSH <span class='def-NumberDec def-Number'>2</span> TON0 POP <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> TOVV</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='def-NumberDec def-Number'>0</span> ' TIMES <span class='def-NumberDec def-Number'>4</span> ;
122: : SHOWNUM TIPNUM BR <span class='def-NumberDec def-Number'>1</span><span class='dssp-dsspString def-String'> "Индивидуальная"</span> <span class='def-NumberDec def-Number'>2</span><span class='dssp-dsspString def-String'> "Свопинговая"</span> <span class='def-NumberDec def-Number'>3</span><span class='dssp-dsspString def-String'> "Сквозная"</span>
123:   <span class='dssp-dsspWord def-Keyword'>ELSE "Без нумеpации"</span> ;
124: : TIPNUMERS TIPNUM <span class='def-NumberDec def-Number'>1</span>+ <span class='def-NumberDec def-Number'>3</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspParam def-Parameter'>!</span> TIPNUM ;
125: : SPKODIR KOD? <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> "Пеpекодиpовать" "Без кодиpования"</span> ;
126: : ?KODIR KOD? NOT <span class='dssp-dsspParam def-Parameter'>!</span> KOD? ;
127: : VALNUMER LPAGE    VALSKSS ;
128: : SHNSTROK NSTROK   VALSKSS ;
129: : SHPAGE   PAGESIZE VALSKSS ;
130: : VALTERM  TERMPOS  VALSKSS ;
131: 
132: : SYMVRAZD   PODGOT1 NUMVVOD RAZDSYM  <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
133: : MODNSTROK  PODGOT1 NUMVVOD NSTROK   <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
134: : MODPAGE    PODGOT1 NUMVVOD PAGESIZE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
135: : MODTERM    PODGOT1 NUMVVOD TERMPOS  <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
136: : BEGHUMPAGE PODGOT1 NUMVVOD LPAGE    <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
137:   : PODGOT1 <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 3</span> '' DEMSTR MENCPOS <span class='def-NumberDec def-Number'>26</span> + <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>6</span> ;
138: 
139: : STprig <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'>  1 STS01  2 "числа символов в строке" </span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> EMSTR</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[A,DL]</span> ;
140: : PGprig <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'>  1 STS01  2 "числа стpок в стpанице"  </span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> EMSTR</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[A,DL]</span> ;
141:   : STS01<span class='dssp-dsspString def-String'> "Введите новое значение"</span> ;
142: 
143: <span class='dssp-dsspComment def-Comment def-Syntax'>[*****************************************]</span>
144: <span class='dssp-dsspComment def-Comment def-Syntax'>[***                                   ***]</span>
145: <span class='dssp-dsspComment def-Comment def-Syntax'>[***  Иницилизатоp паpаметpов сканеpа  ***]</span>
146: <span class='dssp-dsspComment def-Comment def-Syntax'>[***                                   ***]</span>
147: <span class='dssp-dsspComment def-Comment def-Syntax'>[*****************************************]</span>
148: 
149: <span class='dssp-dsspParam def-Parameter'>B10</span>
150: : USTSCAN <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 2</span> <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC DELWIND</span>
151:   '' ISPSCAN '' INFISCN '' ZNISCAN <span class='def-NumberDec def-Number'>5</span> <span class='def-NumberDec def-Number'>18</span> <span class='def-NumberDec def-Number'>13</span> MN1_IJ <span class='dssp-dsspParam def-Parameter'>E4</span> <span class='def-NumberDec def-Number'>4</span>- <span class='dssp-dsspParam def-Parameter'>E4</span> <span class='dssp-dsspParam def-Parameter'>GENMENU</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
152:   : ISPSCAN <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 1 USTPATH 2 USTFTOM 3 USTFDIR 4 ?NEWLAB 5 DEFLAB</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> NOP</span> ;
153:   : INFISCN BR <span class='def-NumberDec def-Number'>1</span><span class='dssp-dsspString def-String'> "Файл вывода"</span> <span class='def-NumberDec def-Number'>2</span><span class='dssp-dsspString def-String'> "Начальный том"</span> <span class='def-NumberDec def-Number'>3</span><span class='dssp-dsspString def-String'> "Файл DIRSCAN"</span>
154:                <span class='def-NumberDec def-Number'>4</span><span class='dssp-dsspString def-String'> "Обновление метки"</span> <span class='def-NumberDec def-Number'>5</span><span class='dssp-dsspString def-String'> "Шаблон метки"</span> <span class='dssp-dsspWord def-Keyword'>ELSE EMSTR</span> ;
155:   : ?NEWLAB ?IZMLAB NOT <span class='dssp-dsspParam def-Parameter'>!</span> ?IZMLAB ;
156:   : ZNISCAN
157:     <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 1 PROTFIL 2 NOMFTOM 3 FSCNDIR 4 ?MODLAB 5 SYSLAB</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> EMSTR</span> ;
158:   : USTFTOM <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC NOP</span> '' DEMSTR MENCPOS <span class='def-NumberDec def-Number'>18</span> + <span class='def-NumberDec def-Number'>0</span>  <span class='def-NumberDec def-Number'>6</span> NUMVVOD FILENUM <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
159:   : DEFLAB  <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 3</span> <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC NOP</span> '' DEMSTR
160:     MENCPOS <span class='def-NumberDec def-Number'>18</span> + <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>13</span> GENVVOD SYSLAB <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
161:     : ?MODLAB ?IZMLAB <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> "Да"  "Нет"</span> ;
162: 
163: 
164: : USTFDIR <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 3</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SJust 1</span> '' DEMSTR <span class='def-NumberDec def-Number'>5</span> <span class='def-NumberDec def-Number'>24</span> GENVVOD FSCNDIR <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
165: : USTPATH <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 3</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SJust 1</span> '' MENCPOS DEMSTR <span class='def-NumberDec def-Number'>5</span> <span class='def-NumberDec def-Number'>24</span> GENVVOD PROTFIL <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
166: : ININORT <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 7</span> <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC DELWIND</span>
167:   '' ISPNORT '' INFNORT '' STRSPATH <span class='def-NumberDec def-Number'>4</span> <span class='def-NumberDec def-Number'>12</span> <span class='def-NumberDec def-Number'>30</span> MN2_IJ <span class='dssp-dsspParam def-Parameter'>E4</span> <span class='def-NumberDec def-Number'>20</span> - <span class='dssp-dsspParam def-Parameter'>E4</span> <span class='def-NumberDec def-Number'>4</span> GENMEN2 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
168:   : INFNORT <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 1 "VIEW PATH"  2 "EDIT PATH"</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> EMSTR</span> ;
169:   : ISPNORT <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 1 MODVIEW      2 MODEDIT    </span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> NOP</span> ;
170:   : STRSPATH <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 1 VIEWSPEC 2 EDITSPEC</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> EMSTR</span> ;
171: 
172: : MODVIEW <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SJust 1</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 6</span>
173:   '' DEMSTR MENCPOS <span class='def-NumberDec def-Number'>10</span> + <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>30</span> GENVVOD VIEWSPEC <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
174: : MODEDIT <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SJust 1</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 6</span>
175:   '' DEMSTR MENCPOS <span class='def-NumberDec def-Number'>10</span> + <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>30</span> GENVVOD EDITSPEC <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
176: 
177:    : VALUES <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> <span class='def-NumberDec def-Number'>2</span> <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> MASKA EMSTR</span> ;
178:      : MASKA NUMMASK
179:        BR <span class='def-NumberDec def-Number'>1</span><span class='dssp-dsspString def-String'> "IBM ---> DVK MIM"</span>
180:           <span class='def-NumberDec def-Number'>2</span><span class='dssp-dsspString def-String'> "Маленькие буквы"</span>
181:           <span class='def-NumberDec def-Number'>3</span><span class='dssp-dsspString def-String'> "ASTRO FORTH -- TXT"</span>
182:           <span class='def-NumberDec def-Number'>4</span><span class='dssp-dsspString def-String'> "Маска пользователя"</span>
183:           <span class='def-NumberDec def-Number'>5</span><span class='dssp-dsspString def-String'> "EDIK --> TXT"</span>
184:           <span class='def-NumberDec def-Number'>6</span><span class='dssp-dsspString def-String'> "Русские маленькие"</span>
185:           <span class='def-NumberDec def-Number'>7</span><span class='dssp-dsspString def-String'> "DVK MIM ---> IBM"</span>
186:           <span class='def-NumberDec def-Number'>8</span><span class='dssp-dsspString def-String'> "Большие английские"</span>
187:           <span class='def-NumberDec def-Number'>9</span><span class='dssp-dsspString def-String'> "FIDO - кодировка"</span>
188:          <span class='def-NumberDec def-Number'>10</span><span class='dssp-dsspString def-String'> "Frame Work III --> TXT"</span>
189:        <span class='dssp-dsspWord def-Keyword'>ELSE EMSTR</span> ;
190: 
191: '' ggg <span class='dssp-dsspParam def-Parameter'>!</span> FUNCTION
192: 
193: : PSTART <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ONAME CICL <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
194:   : CICL <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 3</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SJust 1</span>
195:     '' TEXTING <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>5</span> <span class='def-NumberDec def-Number'>20</span> GENINF <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> SYMOBR</span> CLOSE OF DELWIND <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
196: 
197:  : TEXTING <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> <span class='def-NumberDec def-Number'>9</span> <span class='dssp-dsspParam def-Parameter'>!</span> CLTXT BR <span class='def-NumberDec def-Number'>1</span><span class='dssp-dsspString def-String'> " Обpабатывается"</span>  <span class='def-NumberDec def-Number'>2</span><span class='dssp-dsspString def-String'> " файл"</span>  <span class='def-NumberDec def-Number'>3</span> STEKNAME
198:     <span class='dssp-dsspWord def-Keyword'>ELSE EMSTR</span> ;
199:     : STEKNAME TEKNAME <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='def-NumberDec def-Number'>1</span>- #  <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>SRCHB</span> <span class='dssp-dsspParam def-Parameter'>MIN</span> ;
200:     : PERSENT POS IF <span class='def-NumberDec def-Number'>10000</span> <span class='dssp-dsspParam def-Parameter'>*</span> SIZEOBR <span class='dssp-dsspParam def-Parameter'>/</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Persent]</span>
201:       #  <span class='dssp-dsspParam def-Parameter'>!!!</span> TIMES <span class='def-NumberDec def-Number'>10000</span> + <span class='def-NumberDec def-Number'>4</span> TON0 <span class='dssp-dsspParam def-Parameter'>D</span>
202:       <span class='def-NumberDec def-Number'>0</span> ' TIMES TOVV TOVV #. <span class='dssp-dsspParam def-Parameter'>E2</span> TOVV TOVV TOVV <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-NumberDec def-Number'>0</span> ' TIMES <span class='def-NumberDec def-Number'>5</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[ADR.DL]</span> ;
203: 
204: : INIDIV <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC NOP</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 18</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SJust 1</span>
205:   '' prigreg <span class='def-NumberDec def-Number'>14</span> <span class='def-NumberDec def-Number'>45</span> <span class='def-NumberDec def-Number'>4</span> <span class='def-NumberDec def-Number'>22</span> NUMVVOD BLOKSIZE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
206: 
207: : prigreg <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> BR
208:   <span class='def-NumberDec def-Number'>1</span> STS01
209:   <span class='def-NumberDec def-Number'>2</span><span class='dssp-dsspString def-String'> "максимального pазмеpа"</span>
210:   <span class='def-NumberDec def-Number'>3</span><span class='dssp-dsspString def-String'> "вновь создаваемых"</span>
211:   <span class='def-NumberDec def-Number'>4</span><span class='dssp-dsspString def-String'> "пpи делении файлов"</span>
212:   <span class='dssp-dsspWord def-Keyword'>ELSE EMSTR</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[A,DL]</span> ;
213: 
214: <span class='dssp-dsspComment def-Comment def-Syntax'>[*****************************************************]</span>
215: <span class='dssp-dsspComment def-Comment def-Syntax'>[***                                               ***]</span>
216: <span class='dssp-dsspComment def-Comment def-Syntax'>[***  Делитель файла на заданные по pазмеpу файлы  ***]</span>
217: <span class='dssp-dsspComment def-Comment def-Syntax'>[***                                               ***]</span>
218: <span class='dssp-dsspComment def-Comment def-Syntax'>[*****************************************************]</span>
219: 
220: <span class='dssp-dsspParam def-Parameter'>B10</span>
221: : FILDIVIDE LSATRIBUT <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> FDIVi</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
222:   : FDIVi <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> NTF INAME LENB IF <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>!</span> SIZEOBR
223:     KBUF BBUF - <span class='dssp-dsspParam def-Parameter'>!</span> MAXBUFF YESVOL <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span>
224:     CLOSE IF DELWIND <span class='def-NumberDec def-Number'>10</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> ZVOOK</span> SCANSUBS ;
225:     : YESVOL FREEVOL <span class='def-NumberDec def-Number'>10000</span> + <span class='dssp-dsspParam def-Parameter'>></span> <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> DIVSTART ZAKONCH</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
226:       : DIVSTART <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 19</span>
227:         '' TEXTING <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>8</span> <span class='def-NumberDec def-Number'>20</span> GENINF <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>!</span> NOMFILE <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> CICLDIV</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
228: 
229:   : CICLDIV <span class='dssp-dsspExpr def-Directive'>S( BLOKSIZE )</span> ONAMEi <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> DIVFILE</span> CLOSE OF SIZEOBR EX0 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
230: 
231: : DIVFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Сохpаняем для автовостановления на следующих пpоходах]</span>
232:   SIZEOBR BLOKSIZE <span class='dssp-dsspParam def-Parameter'>MIN</span> MAXBUFF <span class='dssp-dsspParam def-Parameter'>MIN</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Минимально возможная поpция обpаботки]</span>
233:   BLOKSIZE <span class='dssp-dsspParam def-Parameter'>C2</span> - <span class='dssp-dsspParam def-Parameter'>!</span> BLOKSIZE <span class='dssp-dsspComment def-Comment def-Syntax'>[PORCIA]</span> SIZEOBR <span class='dssp-dsspParam def-Parameter'>C2</span> - <span class='dssp-dsspParam def-Parameter'>!</span> SIZEOBR <span class='dssp-dsspComment def-Comment def-Syntax'>[PORCIA]</span>
234:   BBUF <span class='dssp-dsspParam def-Parameter'>C2</span> IS IF <span class='dssp-dsspComment def-Comment def-Syntax'>[PORCIA]</span> BBUF <span class='dssp-dsspParam def-Parameter'>E2</span> OS OF <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> BLOKSIZE EX0 SIZEOBR EX0 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
235: 
236: : ONAMEi TEKNAME <span class='def-NumberDec def-Number'>1</span>- <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>E2</span> #. <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>SRCHB</span> <span class='dssp-dsspParam def-Parameter'>MIN</span> <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>MAX</span>
237:   <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> .RAS OCHRAS</span>  <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ISF KORNAME</span> CONNECT OF WOPEN OF ;
238:   : OCHRAS #. <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> FRAS NOMFILE <span class='def-NumberDec def-Number'>3</span> TON0 <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> TORAS</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='def-NumberDec def-Number'>0</span> ' FRAS <span class='def-NumberDec def-Number'>4</span>
239:     NOMFILE <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>!</span> NOMFILE ;
240:     : TORAS <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspParam def-Parameter'>C</span> #  <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> ZAMEN</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[i,B]</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!</span> FRAS <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[i']</span> ;
241:       : ZAMEN <span class='dssp-dsspParam def-Parameter'>D</span> #0 ;
242: 
243:   : KORNAME <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
244: 
245: <span class='dssp-dsspComment def-Comment def-Syntax'>[*********************************************]</span>
246: <span class='dssp-dsspComment def-Comment def-Syntax'>[***                                       ***]</span>
247: <span class='dssp-dsspComment def-Comment def-Syntax'>[***  Кодиpование файла по заданной маске  ***]</span>
248: <span class='dssp-dsspComment def-Comment def-Syntax'>[***                                       ***]</span>
249: <span class='dssp-dsspComment def-Comment def-Syntax'>[*********************************************]</span>
250: 
251: <span class='dssp-dsspParam def-Parameter'>B10</span>
252: : SINCLCAT <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> NOTFILE DNOWORK</span> INAME ONAME
253:   <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 4</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SJust 1</span> '' TEXTING <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>10</span> <span class='def-NumberDec def-Number'>5</span> <span class='def-NumberDec def-Number'>20</span> GENINF
254:   <span class='def-NumberDec def-Number'>39</span> SPOS IF <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> EOF EX</span> <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> STRCAT</span> CLOSEALL DELWIND ;
255:   : DNOWORK <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 21</span>
256:    <span class='dssp-dsspString def-String'> "Данная функция выполняется только с файлами!"</span> InfErr ;
257:   : STRCAT <span class='def-NumberDec def-Number'>0</span> ' VVB <span class='def-NumberDec def-Number'>17</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>C2</span> IS IF
258:     <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>C3</span> PROVZERRO <span class='dssp-dsspParam def-Parameter'>C</span> PUSH <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> DD</span> POP <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> EOF</span>
259:     OS OF <span class='def-NumberDec def-Number'>13</span> OB OF <span class='def-NumberDec def-Number'>10</span> OB OF ;
260:     : PROVZERRO <span class='dssp-dsspComment def-Comment def-Syntax'>[Prizn,Adr,Dl]</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> SPTEST</span> <span class='dssp-dsspParam def-Parameter'>D</span> ;
261:       : SPTEST <span class='dssp-dsspComment def-Comment def-Syntax'>[Prizn,Adr]</span> <span class='dssp-dsspParam def-Parameter'>C</span> @B #  <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> USTPRIZN</span> <span class='def-NumberDec def-Number'>1</span>+ ;
262:         : USTPRIZN <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspParam def-Parameter'>T1</span> <span class='dssp-dsspParam def-Parameter'>E2</span> ;
263: 
264: <span class='dssp-dsspParam def-Parameter'>B10</span>
265: : STARTIMG KOLVO <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> ONEFILE MANY</span> SCANSUBS <span class='dssp-dsspComment def-Comment def-Syntax'>[ 10 DO ZVOOK []</span> ;
266:   : ONEFILE L ATRIBUT <span class='def-NumberDec def-Number'>16</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> FKOD</span> ;
267:   : MANY <span class='dssp-dsspExpr def-Directive'>S( L )</span> <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> NTF <span class='dssp-dsspParam def-Parameter'>!0</span> L KOLVO <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> ONERABOT</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
268:     : ONERABOT NOMER <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> POISK</span> FKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[ DELWIND ]</span>
269:       L UNSELF <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[SORT-делается внутри]</span> SHOWFILE <span class='dssp-dsspParam def-Parameter'>!1+</span> L <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
270:       : POISK L SORT ATRIBUT <span class='def-NumberDec def-Number'>128</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> EX+ <span class='dssp-dsspParam def-Parameter'>!1+</span> L <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
271: 
272: : FKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='dssp-dsspParam def-Parameter'>!0</span> REGKLAV INAME STRPOS SPOS IF LENB IF <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>!</span> SIZEOBR
273:   KBUF BBUF - <span class='dssp-dsspParam def-Parameter'>!</span> MAXBUFF YESISFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> CLOSE IF ;
274:   : YESISFILE FREEVOL <span class='def-NumberDec def-Number'>1000</span> + <span class='dssp-dsspParam def-Parameter'>></span> <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> PSTART ZAKONCH</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
275: 
276: : KODFILE <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> SIZEOBR <span class='dssp-dsspParam def-Parameter'>C</span> MAXBUFF <span class='dssp-dsspParam def-Parameter'>MIN</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>!</span> VOLBUFF - <span class='dssp-dsspParam def-Parameter'>!</span> SIZEOBR
277:   BBUF VOLBUFF IS IF BBUF VOLBUFF <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> MODEKOD</span> <span class='dssp-dsspParam def-Parameter'>D</span>
278:   BBUF VOLBUFF OS OF SIZEOBR EX0 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
279: 
280:   <span class='dssp-dsspParam def-Parameter'>FIX</span> <span class='dssp-dsspParam def-Parameter'>ACT</span> <span class='dssp-dsspParam def-Parameter'>VAR MODEKOD</span>
281:   <span class='dssp-dsspComment def-Comment def-Syntax'>[Процедура перекодировки должна по адресу из стека извлечь байт</span>
282: <span class='dssp-dsspComment def-Comment def-Syntax'>   перекодировать его и записать на старое место если надо,</span>
283: <span class='dssp-dsspComment def-Comment def-Syntax'>   после этого модифицировать адрес в стеке для следующего цикла]</span>
284: 
285:   : PEREKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[ADR]</span> <span class='dssp-dsspParam def-Parameter'>C</span> @B IBMDVK <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[ADR"]</span> ;
286: 
287:   : MASK1 INIDVK  '' PEREKOD  NORMKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
288:   : MASK2         '' LITLKOD  NORMKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
289:   : MASK3         '' ASTROBR  NORMKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
290:   : MASK4         '' PEREKOD  NORMKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
291:   : MASK5 SPECDVK '' EDIKPRK  NORMKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
292:   : MASK6         '' CTERMIN  NORMKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ; <span class='dssp-dsspComment def-Comment def-Syntax'>[Нестандарт]</span>
293:   : MASK7 INIIBM  '' PEREKOD  NORMKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
294:   : MASK8         '' BIGENGL  NORMKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
295:   : MASK9 INIFIDO '' PEREKOD  NORMKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
296:   : MASK10        '' PEREVERT NORMKOD <span class='def-NumberDec def-Number'>130</span> <span class='dssp-dsspParam def-Parameter'>!</span> STRPOS <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
297:     : NORMKOD '' KODFILE <span class='dssp-dsspParam def-Parameter'>!</span> SYMOBR <span class='dssp-dsspParam def-Parameter'>!</span> MODEKOD <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> STRPOS <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
298: 
299:   <span class='dssp-dsspComment def-Comment def-Syntax'>[Пpеобpазователь фоpмата файла ASTRO-FORTH в обычный текстовый файл]</span>
300:   : ASTROBR <span class='dssp-dsspComment def-Comment def-Syntax'>[B]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>10</span> <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> CRDOBAV</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
301:     : CRDOBAV <span class='def-NumberDec def-Number'>13</span> OB OF <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
302: 
303: : LITLKOD <span class='dssp-dsspComment def-Comment def-Syntax'>[ADR]</span> <span class='dssp-dsspParam def-Parameter'>C</span> @B <span class='dssp-dsspComment def-Comment def-Syntax'>[B]</span> REGKLAV <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> PEREKBYTE</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[B']</span>
304:   <span class='dssp-dsspParam def-Parameter'>C</span> #A #Z <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> USTKLAV</span>  <span class='dssp-dsspParam def-Parameter'>C</span> #a #z <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> USTKLAV</span>
305:   <span class='dssp-dsspParam def-Parameter'>C</span> #А #п <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> USTKLAV</span>  <span class='dssp-dsspParam def-Parameter'>C</span> #p #я <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> USTKLAV</span>
306:   <span class='dssp-dsspParam def-Parameter'>C</span> #. <span class='dssp-dsspParam def-Parameter'>=</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> SBROSKLAV</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
307:   : PEREKBYTE <span class='dssp-dsspParam def-Parameter'>C</span> #A #Z <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> TOLIT1</span>
308:     <span class='dssp-dsspParam def-Parameter'>C</span> #А #П <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> TOLIT1</span> <span class='dssp-dsspParam def-Parameter'>C</span> #Р #Я <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> TOLIT2</span> ;
309:   : USTKLAV   <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>!</span> REGKLAV <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
310:   : SBROSKLAV <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> REGKLAV <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
311:   : TOLIT1 <span class='dssp-dsspComment def-Comment def-Syntax'>[B]</span> <span class='def-NumberDec def-Number'>32</span> + <span class='dssp-dsspComment def-Comment def-Syntax'>[Blitle]</span> ;
312:   : TOLIT2 <span class='dssp-dsspComment def-Comment def-Syntax'>[B]</span> <span class='def-NumberDec def-Number'>80</span> + <span class='dssp-dsspComment def-Comment def-Syntax'>[Blitle]</span> ;
313: 
314: : INAME TEKNAME <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='def-NumberDec def-Number'>1</span>- #  <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>SRCHB</span> <span class='dssp-dsspParam def-Parameter'>MIN</span> CONNECT IF OPEN IF ;
315: : ONAME TEKNAME <span class='def-NumberDec def-Number'>1</span>- <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>E2</span> #. <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>C3</span> <span class='dssp-dsspParam def-Parameter'>SRCHB</span> <span class='dssp-dsspParam def-Parameter'>MIN</span> <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>MAX</span>
316:   <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> .RAS ".PRK"</span> CONNECT OF WOPEN OF ;
317: 
318: <span class='dssp-dsspParam def-Parameter'>B10</span>
319: <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR PRIZNBEG</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Признак перекодировки первой буквы в большую]</span>
320: : CTERMIN <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> TOBEGIN</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>!</span> BEGWORD
321:   <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> REGKLAV <span class='dssp-dsspComment def-Comment def-Syntax'>[В начале сбросим признак перекодировки слова]</span>
322:   <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> TESTWORD</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr']</span> REGKLAV <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> IZMWORD</span>
323:   PRIZNBEG <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> KODFIRST</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr']</span>
324:   <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>2</span>- @B <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> #. SETPRIZN #! SETPRIZN #? SETPRIZN</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> NOP</span>
325:   <span class='dssp-dsspParam def-Parameter'>C</span> BBUF VOLBUFF + <span class='dssp-dsspParam def-Parameter'>&lt;</span> EX0 ;
326:   : TESTWORD <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>E2</span> @B
327:     <span class='dssp-dsspParam def-Parameter'>C</span> #А #п <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> USTKLAV</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Если символ русский то установить признак]</span>
328:     <span class='dssp-dsspParam def-Parameter'>C</span> #p #я <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> USTKLAV</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Если символ русский то установить признак]</span>
329:     <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 10 EX 13 EX #  EX</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> NOP</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr+1]</span> <span class='dssp-dsspParam def-Parameter'>C</span> BBUF VOLBUFF + <span class='dssp-dsspParam def-Parameter'>&lt;</span> EX0 ;
330:     : SETPRIZN <span class='def-NumberDec def-Number'>1</span> <span class='dssp-dsspParam def-Parameter'>!</span> PRIZNBEG ;
331:     : KODFIRST <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> BEGWORD <span class='dssp-dsspParam def-Parameter'>C</span> @B <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> PRIZNBEG
332:       <span class='dssp-dsspParam def-Parameter'>C</span> #а #п <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> -32 0</span> +
333:       <span class='dssp-dsspParam def-Parameter'>C</span> #р #я <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspWord def-Keyword'>BR+</span><span class='dssp-dsspExpr def-Directive'> -80 0</span> + <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
334:     : TOBEGIN <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspParam def-Parameter'>C</span> @B <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> #. SETPRIZN #! SETPRIZN #? SETPRIZN</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> NOP</span>
335:       <span class='dssp-dsspParam def-Parameter'>C</span>  #A #Z <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspParam def-Parameter'>C2</span> #a #z <span class='dssp-dsspParam def-Parameter'>SEG</span> &amp;<span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>C2</span> #А #п <span class='dssp-dsspParam def-Parameter'>SEG</span> &amp;<span class='def-NumberDec def-Number'>0</span>
336:       <span class='dssp-dsspParam def-Parameter'>E2</span> #р #я <span class='dssp-dsspParam def-Parameter'>SEG</span> &amp;<span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,Prizn-symv]</span> EX+ <span class='dssp-dsspParam def-Parameter'>C</span> BBUF VOLBUFF + <span class='dssp-dsspParam def-Parameter'>&lt;</span> EX0 <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr']</span> ;
337: 
338: : IZMWORD <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> BEGWORD <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> IZMSIMV</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
339:   : IZMSIMV <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspParam def-Parameter'>C</span> @B
340:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,B]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> #  EXIZMW</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> CHNGR</span>
341:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,B,Sm]</span> + <span class='dssp-dsspComment def-Comment def-Syntax'>[B]</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr+1]</span>
342:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr+1]</span> <span class='dssp-dsspParam def-Parameter'>C</span> BBUF VOLBUFF + <span class='dssp-dsspParam def-Parameter'>&lt;</span> EX0 <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr']</span> ;
343:     : EXIZMW <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,B]</span> <span class='dssp-dsspParam def-Parameter'>D</span> EX <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> ;
344:       : CHNGR <span class='dssp-dsspParam def-Parameter'>C</span> BR #A <span class='def-NumberDec def-Number'>95</span>     #B <span class='def-NumberDec def-Number'>96</span>     #C <span class='def-NumberDec def-Number'>158</span>    #E <span class='def-NumberDec def-Number'>96</span>   #p <span class='def-NumberDec def-Number'>112</span>
345:         #P <span class='def-NumberDec def-Number'>32</span>      #O <span class='def-NumberDec def-Number'>95</span>     #K <span class='def-NumberDec def-Number'>95</span>     #M <span class='def-NumberDec def-Number'>95</span>     #T <span class='def-NumberDec def-Number'>142</span>
346:         #X <span class='def-NumberDec def-Number'>141</span>     #H <span class='def-NumberDec def-Number'>101</span>    #А <span class='def-NumberDec def-Number'>32</span>     #Б <span class='def-NumberDec def-Number'>32</span>     #В <span class='def-NumberDec def-Number'>32</span>
347:         #Г <span class='def-NumberDec def-Number'>32</span>      #Д <span class='def-NumberDec def-Number'>32</span>     #Е <span class='def-NumberDec def-Number'>32</span>     #Ж <span class='def-NumberDec def-Number'>32</span>     #З <span class='def-NumberDec def-Number'>32</span>
348:         #И <span class='def-NumberDec def-Number'>32</span>      #Й <span class='def-NumberDec def-Number'>32</span>     #К <span class='def-NumberDec def-Number'>32</span>     #Л <span class='def-NumberDec def-Number'>32</span>     #М <span class='def-NumberDec def-Number'>32</span>
349:         #Н <span class='def-NumberDec def-Number'>32</span>      #О <span class='def-NumberDec def-Number'>32</span>     #П <span class='def-NumberDec def-Number'>32</span>     #Р <span class='def-NumberDec def-Number'>80</span>     #С <span class='def-NumberDec def-Number'>80</span>
350:         #Т <span class='def-NumberDec def-Number'>80</span>      #У <span class='def-NumberDec def-Number'>80</span>     #Ф <span class='def-NumberDec def-Number'>80</span>     #Х <span class='def-NumberDec def-Number'>80</span>     #Ц <span class='def-NumberDec def-Number'>80</span>
351:         #Ч <span class='def-NumberDec def-Number'>80</span>      #Ш <span class='def-NumberDec def-Number'>80</span>     #Щ <span class='def-NumberDec def-Number'>80</span>     #Ъ <span class='def-NumberDec def-Number'>80</span>     #Ы <span class='def-NumberDec def-Number'>80</span>
352:         #Ь <span class='def-NumberDec def-Number'>80</span>      #Э <span class='def-NumberDec def-Number'>80</span>     #Ю <span class='def-NumberDec def-Number'>80</span>     #Я <span class='def-NumberDec def-Number'>80</span>     <span class='dssp-dsspWord def-Keyword'>ELSE 0</span> ;
353: 
354: <span class='dssp-dsspParam def-Parameter'>B10</span>
355: <span class='dssp-dsspComment def-Comment def-Syntax'>[Перекодировка всего слова в большие английские если есть хоть 1 английская]</span>
356: : BIGENGL <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>!</span> BEGWORD
357:   <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> REGKLAV <span class='dssp-dsspComment def-Comment def-Syntax'>[В начале сбросим признак перекодировки слова]</span>
358:   <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> TSTWengl</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr']</span> REGKLAV <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> toengl</span> <span class='dssp-dsspParam def-Parameter'>C</span> BBUF VOLBUFF + <span class='dssp-dsspParam def-Parameter'>&lt;</span> EX0 ;
359:   : TSTWengl <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspParam def-Parameter'>E2</span> @B
360:     <span class='dssp-dsspParam def-Parameter'>C</span> #A #Z <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> USTKLAV</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Если символ ENGL то установить признак]</span>
361:     <span class='dssp-dsspParam def-Parameter'>C</span> #a #z <span class='dssp-dsspParam def-Parameter'>SEG</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> USTKLAV</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[Если символ ENGL то установить признак]</span>
362:     <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 10 EX 13 EX #  EX #. EX #! EX #? EX</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> NOP</span>
363:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr+1]</span> <span class='dssp-dsspParam def-Parameter'>C</span> BBUF VOLBUFF + <span class='dssp-dsspParam def-Parameter'>&lt;</span> EX0 ;
364: 
365: : toengl <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> BEGWORD <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> IZMengl</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
366:   : IZMengl <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr]</span> <span class='dssp-dsspParam def-Parameter'>C</span> @B
367:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,B]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> #  EXIZMW 10 EXIZMW 13 EXIZMW</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> englCHNGR</span>
368:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr,B,Sm]</span> - <span class='dssp-dsspComment def-Comment def-Syntax'>[B]</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr+1]</span>
369:     <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr+1]</span> <span class='dssp-dsspParam def-Parameter'>C</span> BBUF VOLBUFF + <span class='dssp-dsspParam def-Parameter'>&lt;</span> EX0 <span class='dssp-dsspComment def-Comment def-Syntax'>[Adr']</span> ;
370:     : englCHNGR <span class='dssp-dsspParam def-Parameter'>C</span> BR  #а <span class='def-NumberDec def-Number'>95</span>  #в <span class='def-NumberDec def-Number'>96</span>  #с <span class='def-NumberDec def-Number'>158</span>  #е <span class='def-NumberDec def-Number'>96</span>  #p <span class='def-NumberDec def-Number'>112</span>
371:       #р <span class='def-NumberDec def-Number'>32</span>   #о <span class='def-NumberDec def-Number'>95</span>   #к <span class='def-NumberDec def-Number'>95</span>  #м <span class='def-NumberDec def-Number'>95</span>  #т <span class='def-NumberDec def-Number'>142</span>  #х <span class='def-NumberDec def-Number'>141</span> #н <span class='def-NumberDec def-Number'>101</span> <span class='dssp-dsspWord def-Keyword'>ELSE 0</span> ;
372: 
373: <span class='dssp-dsspParam def-Parameter'>B8</span>
374: <span class='dssp-dsspComment def-Comment def-Syntax'>[Перекодировка файла из EDIKа в IBM]</span>
375: : EDIKPRK <span class='dssp-dsspComment def-Comment def-Syntax'>[adr]</span> <span class='dssp-dsspParam def-Parameter'>C</span> @B <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspWord def-Keyword'>BR</span><span class='dssp-dsspExpr def-Directive'> 16 USTFLAG 17 SBROSFLAG</span><span class='dssp-dsspWord def-Keyword'> ELSE</span><span class='dssp-dsspExpr def-Directive'> TOMIM</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[B']</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='def-NumberDec def-Number'>1</span>+ ;
376:   : USTFLAG   <span class='dssp-dsspComment def-Comment def-Syntax'>[B]</span> <span class='dssp-dsspParam def-Parameter'>D</span> #  <span class='dssp-dsspParam def-Parameter'>!1</span> REGKLAV <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
377:   : SBROSFLAG <span class='dssp-dsspComment def-Comment def-Syntax'>[B]</span> <span class='dssp-dsspParam def-Parameter'>D</span> #  <span class='dssp-dsspParam def-Parameter'>!0</span> REGKLAV <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
378:   : TOMIM <span class='dssp-dsspComment def-Comment def-Syntax'>[B]</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='def-NumberDec def-Number'>100</span> <span class='def-NumberDec def-Number'>176</span> <span class='dssp-dsspParam def-Parameter'>SEG</span> REGKLAV <span class='dssp-dsspParam def-Parameter'>*</span> <span class='dssp-dsspConstr def-Insertion'>IF+</span><span class='dssp-dsspExpr def-Directive'> LM</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[B']</span> ;
379:     : LM <span class='dssp-dsspComment def-Comment def-Syntax'>[B]</span> <span class='def-NumberDec def-Number'>200</span> + IBMDVK <span class='dssp-dsspComment def-Comment def-Syntax'>[B']</span> ;
380: 
381: <span class='dssp-dsspParam def-Parameter'>B10</span>
382: <span class='dssp-dsspComment def-Comment def-Syntax'>[Инициализация массива пеpекодиpовки для ДВК -> IBM]</span>
383: : INIDVK <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> RESVCTR INIRUS <span class='def-NumberDec def-Number'>64</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> TOVCTR</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> MODLLAT ;
384: 
385: <span class='dssp-dsspComment def-Comment def-Syntax'>[Инициализация массива пеpекодиpовки для IBM -> ДВК]</span>
386: : INIIBM <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> RESVCTR INIRUS <span class='def-NumberDec def-Number'>64</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> ONVCTR</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> OBRLLAT <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
387:   <span class='dssp-dsspComment def-Comment def-Syntax'>[Запись нового кода на место стаpого символа]</span>
388:   : TOVCTR <span class='dssp-dsspComment def-Comment def-Syntax'>[Cod oldsym,Cod newsym]</span> <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspParam def-Parameter'>!</span> IBMDVK <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
389:   : ONVCTR <span class='dssp-dsspComment def-Comment def-Syntax'>[Cod oldsym,Cod newsym]</span>    <span class='dssp-dsspParam def-Parameter'>!</span> IBMDVK <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
390: 
391: <span class='dssp-dsspComment def-Comment def-Syntax'>[Инициализация для перекодировки писем FIDO]</span>
392: : INIFIDO <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> RESVCTR #H #Н <span class='dssp-dsspParam def-Parameter'>!</span> IBMDVK  #y #у <span class='dssp-dsspParam def-Parameter'>!</span> IBMDVK  #p #р <span class='dssp-dsspParam def-Parameter'>!</span> IBMDVK <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
393: 
394: : SPECDVK RESVCTR EINIRUS <span class='def-NumberDec def-Number'>64</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> ONVCTR</span> ;
395: 
396: <span class='dssp-dsspComment def-Comment def-Syntax'>[Начальная иницилизация массива пеpекодиpовки]</span>
397: : RESVCTR <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>256</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> INIVECT</span> <span class='dssp-dsspParam def-Parameter'>D</span> ;
398:   : INIVECT <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>!</span> IBMDVK <span class='def-NumberDec def-Number'>1</span>+ ;
399: 
400: <span class='dssp-dsspComment def-Comment def-Syntax'>[Показ символов массива пеpекодиpовки]</span>
401: : SHOWVECT <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>256</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> SHOWS</span> <span class='dssp-dsspParam def-Parameter'>D</span> ;
402:   : SHOWS <span class='dssp-dsspParam def-Parameter'>C</span> IBMDVK <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>B10</span> <span class='dssp-dsspParam def-Parameter'>CR</span> <span class='def-NumberDec def-Number'>4</span> TON <span class='dssp-dsspParam def-Parameter'>SP</span> <span class='dssp-dsspParam def-Parameter'>SP</span> <span class='dssp-dsspParam def-Parameter'>TOB</span> <span class='def-NumberDec def-Number'>1</span>+ ;
403: 
404: <span class='dssp-dsspComment def-Comment def-Syntax'>[Модификация содеpжимого вектоpа пеpекодиpовки]</span>
405: : MODVECT <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='dssp-dsspExpr def-Directive'>S( BASE@ )</span> <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC DELWIND</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 4</span> <span class='dssp-dsspParam def-Parameter'>B16</span> #  <span class='dssp-dsspParam def-Parameter'>!!!</span> TIMES
406:   <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> MF10 NOP</span><span class='dssp-dsspString def-String'> "Модификация маски"</span>
407:   '' ISPVECT '' INFVECT '' VALVECT <span class='def-NumberDec def-Number'>3</span> <span class='def-NumberDec def-Number'>10</span> <span class='dssp-dsspParam def-Parameter'>HS</span> <span class='def-NumberDec def-Number'>5</span> - <span class='def-NumberDec def-Number'>12</span> <span class='def-NumberDec def-Number'>8</span> <span class='def-NumberDec def-Number'>256</span> GLBMEN2 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
408:   : INFVECT <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> <span class='def-NumberDec def-Number'>1</span>- PUSH <span class='dssp-dsspExpr def-Directive'>S( BASE@ )</span> <span class='dssp-dsspParam def-Parameter'>B10</span><span class='dssp-dsspString def-String'> "    символ   "</span>
409:     POP <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspParam def-Parameter'>C4</span> <span class='dssp-dsspParam def-Parameter'>C4</span> + <span class='def-NumberDec def-Number'>2</span>- <span class='dssp-dsspParam def-Parameter'>!TB</span> <span class='def-NumberDec def-Number'>3</span> TON0  <span class='def-NumberDec def-Number'>6</span> CT <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> TOVV</span> <span class='dssp-dsspParam def-Parameter'>D</span> ;
410:   : VALVECT <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> #  <span class='dssp-dsspParam def-Parameter'>!!!</span> TIMES <span class='def-NumberDec def-Number'>1</span>- IBMDVK <span class='def-NumberDec def-Number'>2</span> ' TIMES <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!TB</span>
411:     <span class='def-NumberDec def-Number'>2</span>+ PUSH <span class='def-NumberDec def-Number'>2</span> TON0 POP <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> TOVV</span> <span class='def-NumberDec def-Number'>6</span> - <span class='def-NumberDec def-Number'>6</span> ;
412: 
413:   <span class='dssp-dsspParam def-Parameter'>BYTE</span> <span class='dssp-dsspParam def-Parameter'>VAR NEWKOD</span>
414:   : ISPVECT <span class='dssp-dsspComment def-Comment def-Syntax'>[i]</span> <span class='def-NumberDec def-Number'>1</span>- <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 3</span>  <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> MESC D</span> <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPlus #</span>  <span class='dssp-dsspParam def-Parameter'>C</span> IBMDVK <span class='dssp-dsspParam def-Parameter'>!</span> NEWKOD
415:     '' DEMSTR MENCPOS <span class='def-NumberDec def-Number'>16</span> + <span class='def-NumberDec def-Number'>0</span> <span class='def-NumberDec def-Number'>4</span> NUMVVOD NEWKOD NEWKOD <span class='def-NumberDec def-Number'>255</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspParam def-Parameter'>!</span> IBMDVK <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
416: 
417: <span class='dssp-dsspComment def-Comment def-Syntax'>[Инициализация гpафической части массива пеpекодиpовки]</span>
418: : INIGRAF <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span>
419:   #┌ #+  #┬ #+  #┐ #+  #╔ #+  #╦ #+  #╗ #+  #╒ #+  #╤ #+  #╕ #+
420:   #├ #+  #┼ #+  #┤ #+  #╠ #+  #╬ #+  #╣ #+  #╞ #+  #╪ #+  #╡ #+
421:   #└ #+  #┴ #+  #┘ #+  #╚ #+  #╩ #+  #╝ #+  #╘ #+  #╧ #+  #╛ #+
422:   #╓ #+  #╥ #+  #╖ #+  #│ #!  #═ #-  #║ #<span class='dssp-dsspParam def-Parameter'>!</span>
423:   #╟ #+  #╫ #+  #╢ #+  #░ #!  #▒ #!  #▓ #<span class='dssp-dsspParam def-Parameter'>!</span>
424:   #╙ #+  #╨ #+  #╜ #+  #▄ ##  #▀ #*  #▌ #<span class='dssp-dsspParam def-Parameter'>!</span>
425:   #▐ #!  #─ #- ;
426: 
427: <span class='dssp-dsspComment def-Comment def-Syntax'>[Модификация маленьких латинских кодов]</span>
428: : MODLLAT <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-NumberDec def-Number'>97</span> <span class='def-NumberDec def-Number'>122</span> <span class='dssp-dsspParam def-Parameter'>C2</span> - <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> IMLITLAT</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
429:   : IMLITLAT <span class='dssp-dsspComment def-Comment def-Syntax'>[I]</span> <span class='dssp-dsspParam def-Parameter'>C</span> IBMDVK <span class='def-NumberDec def-Number'>96</span> + <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!</span> IBMDVK <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[I']</span> ;
430: : OBRLLAT <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-NumberDec def-Number'>97</span> <span class='def-NumberDec def-Number'>122</span> <span class='dssp-dsspParam def-Parameter'>C2</span> - <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='def-NumberDec def-Number'>96</span> + <span class='dssp-dsspParam def-Parameter'>E2</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> IZLITLAT</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
431:   : IZLITLAT <span class='dssp-dsspComment def-Comment def-Syntax'>[I]</span> <span class='dssp-dsspParam def-Parameter'>C</span> IBMDVK <span class='def-NumberDec def-Number'>96</span> - <span class='dssp-dsspParam def-Parameter'>C2</span> <span class='dssp-dsspParam def-Parameter'>!</span> IBMDVK <span class='def-NumberDec def-Number'>1</span>+ <span class='dssp-dsspComment def-Comment def-Syntax'>[I']</span> ;
432: 
433: <span class='dssp-dsspParam def-Parameter'>B8</span>
434: : EINIRUS <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span>
435:   #а <span class='def-NumberDec def-Number'>301</span>  #б <span class='def-NumberDec def-Number'>302</span>  #в <span class='def-NumberDec def-Number'>327</span>  #г <span class='def-NumberDec def-Number'>307</span>  #д <span class='def-NumberDec def-Number'>304</span>  #е <span class='def-NumberDec def-Number'>305</span>  #ж <span class='def-NumberDec def-Number'>326</span>  #з <span class='def-NumberDec def-Number'>332</span>
436:   #и <span class='def-NumberDec def-Number'>311</span>  #й <span class='def-NumberDec def-Number'>312</span>  #к <span class='def-NumberDec def-Number'>313</span>  #л <span class='def-NumberDec def-Number'>314</span>  #м <span class='def-NumberDec def-Number'>315</span>  #н <span class='def-NumberDec def-Number'>316</span>  #о <span class='def-NumberDec def-Number'>317</span>  #п <span class='def-NumberDec def-Number'>320</span>
437:   #р <span class='def-NumberDec def-Number'>322</span>  #с <span class='def-NumberDec def-Number'>323</span>  #т <span class='def-NumberDec def-Number'>324</span>  #у <span class='def-NumberDec def-Number'>325</span>  #ф <span class='def-NumberDec def-Number'>306</span>  #х <span class='def-NumberDec def-Number'>310</span>  #ц <span class='def-NumberDec def-Number'>303</span>  #ч <span class='def-NumberDec def-Number'>336</span>
438:   #ш <span class='def-NumberDec def-Number'>333</span>  #щ <span class='def-NumberDec def-Number'>335</span>  #ъ <span class='def-NumberDec def-Number'>337</span>  #ы <span class='def-NumberDec def-Number'>331</span>  #ь <span class='def-NumberDec def-Number'>330</span>  #э <span class='def-NumberDec def-Number'>334</span>  #ю <span class='def-NumberDec def-Number'>300</span>  #я <span class='def-NumberDec def-Number'>321</span>
439:   #А <span class='def-NumberDec def-Number'>341</span>  #Б <span class='def-NumberDec def-Number'>342</span>  #В <span class='def-NumberDec def-Number'>367</span>  #Г <span class='def-NumberDec def-Number'>347</span>  #Д <span class='def-NumberDec def-Number'>344</span>  #Е <span class='def-NumberDec def-Number'>345</span>  #Ж <span class='def-NumberDec def-Number'>366</span>  #З <span class='def-NumberDec def-Number'>372</span>
440:   #И <span class='def-NumberDec def-Number'>351</span>  #Й <span class='def-NumberDec def-Number'>352</span>  #К <span class='def-NumberDec def-Number'>353</span>  #Л <span class='def-NumberDec def-Number'>354</span>  #М <span class='def-NumberDec def-Number'>355</span>  #Н <span class='def-NumberDec def-Number'>356</span>  #О <span class='def-NumberDec def-Number'>357</span>  #П <span class='def-NumberDec def-Number'>360</span>
441:   #Р <span class='def-NumberDec def-Number'>362</span>  #С <span class='def-NumberDec def-Number'>363</span>  #Т <span class='def-NumberDec def-Number'>364</span>  #У <span class='def-NumberDec def-Number'>365</span>  #Ф <span class='def-NumberDec def-Number'>346</span>  #Х <span class='def-NumberDec def-Number'>350</span>  #Ц <span class='def-NumberDec def-Number'>343</span>  #Ч <span class='def-NumberDec def-Number'>376</span>
442:   #Ш <span class='def-NumberDec def-Number'>373</span>  #Щ <span class='def-NumberDec def-Number'>375</span>  #Ъ <span class='def-NumberDec def-Number'>337</span>  #Ы <span class='def-NumberDec def-Number'>371</span>  #Ь <span class='def-NumberDec def-Number'>370</span>  #Э <span class='def-NumberDec def-Number'>374</span>  #Ю <span class='def-NumberDec def-Number'>340</span>  #Я <span class='def-NumberDec def-Number'>361</span> ;
443: 
444: : INIRUS <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span>
445:   #а <span class='def-NumberDec def-Number'>341</span>  #б <span class='def-NumberDec def-Number'>342</span>  #в <span class='def-NumberDec def-Number'>367</span>  #г <span class='def-NumberDec def-Number'>347</span>  #д <span class='def-NumberDec def-Number'>344</span>  #е <span class='def-NumberDec def-Number'>345</span>  #ж <span class='def-NumberDec def-Number'>366</span>  #з <span class='def-NumberDec def-Number'>372</span>
446:   #и <span class='def-NumberDec def-Number'>351</span>  #й <span class='def-NumberDec def-Number'>352</span>  #к <span class='def-NumberDec def-Number'>353</span>  #л <span class='def-NumberDec def-Number'>354</span>  #м <span class='def-NumberDec def-Number'>355</span>  #н <span class='def-NumberDec def-Number'>356</span>  #о <span class='def-NumberDec def-Number'>357</span>  #п <span class='def-NumberDec def-Number'>360</span>
447:   #р <span class='def-NumberDec def-Number'>362</span>  #с <span class='def-NumberDec def-Number'>363</span>  #т <span class='def-NumberDec def-Number'>364</span>  #у <span class='def-NumberDec def-Number'>365</span>  #ф <span class='def-NumberDec def-Number'>346</span>  #х <span class='def-NumberDec def-Number'>350</span>  #ц <span class='def-NumberDec def-Number'>343</span>  #ч <span class='def-NumberDec def-Number'>376</span>
448:   #ш <span class='def-NumberDec def-Number'>373</span>  #щ <span class='def-NumberDec def-Number'>375</span>  #ъ <span class='def-NumberDec def-Number'>377</span>  #ы <span class='def-NumberDec def-Number'>371</span>  #ь <span class='def-NumberDec def-Number'>370</span>  #э <span class='def-NumberDec def-Number'>374</span>  #ю <span class='def-NumberDec def-Number'>340</span>  #я <span class='def-NumberDec def-Number'>361</span>
449:   #А <span class='def-NumberDec def-Number'>141</span>  #Б <span class='def-NumberDec def-Number'>142</span>  #В <span class='def-NumberDec def-Number'>167</span>  #Г <span class='def-NumberDec def-Number'>147</span>  #Д <span class='def-NumberDec def-Number'>144</span>  #Е <span class='def-NumberDec def-Number'>145</span>  #Ж <span class='def-NumberDec def-Number'>166</span>  #З <span class='def-NumberDec def-Number'>172</span>
450:   #И <span class='def-NumberDec def-Number'>151</span>  #Й <span class='def-NumberDec def-Number'>152</span>  #К <span class='def-NumberDec def-Number'>153</span>  #Л <span class='def-NumberDec def-Number'>154</span>  #М <span class='def-NumberDec def-Number'>155</span>  #Н <span class='def-NumberDec def-Number'>156</span>  #О <span class='def-NumberDec def-Number'>157</span>  #П <span class='def-NumberDec def-Number'>160</span>
451:   #Р <span class='def-NumberDec def-Number'>162</span>  #С <span class='def-NumberDec def-Number'>163</span>  #Т <span class='def-NumberDec def-Number'>164</span>  #У <span class='def-NumberDec def-Number'>165</span>  #Ф <span class='def-NumberDec def-Number'>146</span>  #Х <span class='def-NumberDec def-Number'>150</span>  #Ц <span class='def-NumberDec def-Number'>143</span>  #Ч <span class='def-NumberDec def-Number'>176</span>
452:   #Ш <span class='def-NumberDec def-Number'>173</span>  #Щ <span class='def-NumberDec def-Number'>175</span>  #Ъ <span class='def-NumberDec def-Number'>137</span>  #Ы <span class='def-NumberDec def-Number'>171</span>  #Ь <span class='def-NumberDec def-Number'>170</span>  #Э <span class='def-NumberDec def-Number'>174</span>  #Ю <span class='def-NumberDec def-Number'>140</span>  #Я <span class='def-NumberDec def-Number'>161</span> ;
453: 
454: <span class='dssp-dsspParam def-Parameter'>B10</span>
455: : MFW3>TXT KOLVO <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> FW3ONEFILE FW3MANY</span> SCANSUBS ;
456:   : FW3ONEFILE L ATRIBUT <span class='def-NumberDec def-Number'>16</span> <span class='dssp-dsspParam def-Parameter'>&amp;</span> <span class='dssp-dsspConstr def-Insertion'>IF0</span><span class='dssp-dsspExpr def-Directive'> FKOD</span> ;
457:   : FW3MANY <span class='dssp-dsspExpr def-Directive'>S( L )</span> <span class='def-NumberDec def-Number'>0</span> <span class='dssp-dsspParam def-Parameter'>!</span> NTF <span class='dssp-dsspParam def-Parameter'>!0</span> L KOLVO <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> F3ONERABOT</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
458:     : F3ONERABOT NOMER <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> POISK</span> FKOD L UNSELF <span class='dssp-dsspParam def-Parameter'>D</span> SHOWFILE <span class='dssp-dsspParam def-Parameter'>!1+</span> L <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
459: 
460: : IMPFW3 <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='def-Insertion'>EON</span><span class='dssp-dsspConstr def-Insertion'> NOTFILE INFNOF</span> INAME ONAME <span class='def-NumberDec def-Number'>130</span> SPOS IF
461:   <span class='dssp-dsspConstr def-Insertion'>RP</span><span class='dssp-dsspExpr def-Directive'> PEREVERT</span> CLOSEALL <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
462:   : PEREVERT IB IF <span class='dssp-dsspParam def-Parameter'>C</span> <span class='dssp-dsspWord def-Keyword'>BR0</span><span class='dssp-dsspExpr def-Directive'> PROPUSK OBOF</span> ;
463:     : PROPUSK <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> <span class='dssp-dsspParam def-Parameter'>D</span> <span class='def-NumberDec def-Number'>6</span> <span class='dssp-dsspConstr def-Insertion'>DO</span><span class='dssp-dsspExpr def-Directive'> IBIFD</span> <span class='def-NumberDec def-Number'>13</span> OB OF <span class='def-NumberDec def-Number'>10</span> OB OF <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
464:       : IBIFD IB IF <span class='dssp-dsspParam def-Parameter'>D</span> <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
465:       : OBOF OB OF <span class='dssp-dsspComment def-Comment def-Syntax'>[]</span> ;
466: 
467: : INFNOF <span class='def-Insertion'>ON</span><span class='dssp-dsspConstr def-Insertion'> ?SPALL 40</span><span class='dssp-dsspString def-String'> "Не выбран файл!"</span> InfErr ;
468: 
469: <span class='dssp-dsspString def-String'>"OSPAL.SET"</span> CONNECT CH OPEN CH <span class='def-NumberDec def-Number'>0</span> ' PALLETS LENB CH IS CH CLOSE CH
470: <span class='def-NumberDec def-Number'>25000</span> <span class='dssp-dsspParam def-Parameter'>!</span> BLOKSIZE  <span class='def-NumberDec def-Number'>6</span> <span class='dssp-dsspParam def-Parameter'>!</span> NUMMASK  MASK6 <span class='dssp-dsspComment def-Comment def-Syntax'>[Начальная иницилизация]</span>
471: <span class='dssp-dsspParam def-Parameter'>UNDEF</span>
472: 
