  0: <span class='matlab-mlKeyWord def-Keyword'>function</span> phone<span class='def-Symbol'>(</span>action<span class='def-Symbol'>)</span>
  1: <span class='matlab-mlComment def-Comment def-Syntax'>%PHONE  Signal processing and the touch-tone phone.</span>
  2: 
  3: <span class='matlab-mlComment def-Comment def-Syntax'>%   Author(s): Ned Gulley, 6-21-93</span>
  4: <span class='matlab-mlComment def-Comment def-Syntax'>%   Copyright 1988-2000 The MathWorks, Inc.</span>
  5: 
  6: <span class='matlab-mlKeyWord def-Keyword'>persistent</span> Fs tones t<span class='matlab-mlSymb def-Symbol'>;</span>
  7: <span class='matlab-mlKeyWord def-Keyword'>if</span> <span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>isempty</span><span class='def-Symbol'>(</span>tones<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>,</span>
  8:     <span class='matlab-mlComment def-Comment def-Syntax'>% Generate DTMF tones:</span>
  9:     Fs  <span class='matlab-mlSymb def-Symbol'>=</span> 8000<span class='matlab-mlSymb def-Symbol'>;</span>
 10:     t   <span class='matlab-mlSymb def-Symbol'>=</span> <span class='def-Symbol'>(</span>0<span class='matlab-mlSymb def-Symbol'>:</span>799<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>/</span>Fs<span class='matlab-mlSymb def-Symbol'>;</span>    <span class='matlab-mlComment def-Comment def-Syntax'>% 800 samples at Fs</span>
 11:     pit <span class='matlab-mlSymb def-Symbol'>=</span> 2<span class='matlab-mlSymb def-Symbol'>*</span><span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>pi</span><span class='matlab-mlSymb def-Symbol'>*</span>t<span class='matlab-mlSymb def-Symbol'>;</span>
 12:     
 13:     fc <span class='matlab-mlSymb def-Symbol'>=</span> <span class='def-Symbol'>[</span>697 770 852 941<span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>;</span>
 14:     fr <span class='matlab-mlSymb def-Symbol'>=</span> <span class='def-Symbol'>[</span>1209 1336 1477<span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>;</span> 
 15:     f  <span class='matlab-mlSymb def-Symbol'>=</span> <span class='def-Symbol'>[</span><span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>;</span>
 16:     <span class='matlab-mlKeyWord def-Keyword'>for</span> c<span class='matlab-mlSymb def-Symbol'>=</span>1<span class='matlab-mlSymb def-Symbol'>:</span>4<span class='matlab-mlSymb def-Symbol'>,</span>
 17:         <span class='matlab-mlKeyWord def-Keyword'>for</span> r<span class='matlab-mlSymb def-Symbol'>=</span>1<span class='matlab-mlSymb def-Symbol'>:</span>3<span class='matlab-mlSymb def-Symbol'>,</span>
 18:             f <span class='matlab-mlSymb def-Symbol'>=</span> <span class='def-Symbol'>[</span> f <span class='def-Symbol'>[</span>fc<span class='def-Symbol'>(</span>c<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>fr<span class='def-Symbol'>(</span>r<span class='def-Symbol'>)</span><span class='def-Symbol'>]</span> <span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>;</span>
 19:         <span class='matlab-mlKeyWord def-Keyword'>end</span>
 20:     <span class='matlab-mlKeyWord def-Keyword'>end</span>
 21:     
 22:     <span class='matlab-mlKeyWord def-Keyword'>for</span> i<span class='matlab-mlSymb def-Symbol'>=</span>1<span class='matlab-mlSymb def-Symbol'>:</span><span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>size</span><span class='def-Symbol'>(</span>f<span class='matlab-mlSymb def-Symbol'>,</span>2<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>,</span>
 23:         tones<span class='def-Symbol'>(</span><span class='matlab-mlSymb def-Symbol'>:</span><span class='matlab-mlSymb def-Symbol'>,</span>i<span class='def-Symbol'>)</span> <span class='matlab-mlSymb def-Symbol'>=</span> <span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>sum</span><span class='def-Symbol'>(</span><span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>sin</span><span class='def-Symbol'>(</span>f<span class='def-Symbol'>(</span><span class='matlab-mlSymb def-Symbol'>:</span><span class='matlab-mlSymb def-Symbol'>,</span>i<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>*</span>pit<span class='def-Symbol'>)</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>'</span> <span class='matlab-mlSymb def-Symbol'>/</span> 4<span class='matlab-mlSymb def-Symbol'>;</span>
 24:     <span class='matlab-mlKeyWord def-Keyword'>end</span>
 25: <span class='matlab-mlKeyWord def-Keyword'>end</span>
 26: 
 27: <span class='matlab-mlKeyWord def-Keyword'>if</span> <span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>nargin</span><span class='matlab-mlSymb def-Symbol'>&lt;</span>1<span class='matlab-mlSymb def-Symbol'>,</span>
 28:     action<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'initialize'</span><span class='matlab-mlSymb def-Symbol'>;</span>
 29: <span class='matlab-mlKeyWord def-Keyword'>end</span>
 30: 
 31: <span class='matlab-mlKeyWord def-Keyword'>if</span> strcmp<span class='def-Symbol'>(</span>action<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'initialize'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>,</span>
 32:     figNumber<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>figure</span><span class='def-Symbol'>(</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 33:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Name'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Phone Pad'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 34:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'NumberTitle'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'off'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 35:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Backingstore'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'off'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 36:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Visible'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'off'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
 37:     axHndl1<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>axes</span><span class='def-Symbol'>(</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 38:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Units'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'normalized'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 39:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Position'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span><span class='def-NumberFloat def-Number'>0.10</span> <span class='def-NumberFloat def-Number'>0.60</span> <span class='def-NumberFloat def-Number'>0.60</span> <span class='def-NumberFloat def-Number'>0.32</span><span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 40:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Drawmode'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'fast'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 41:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Visible'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'on'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
 42:     axHndl2<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>axes</span><span class='def-Symbol'>(</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 43:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Units'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'normalized'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 44:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Position'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span><span class='def-NumberFloat def-Number'>0.10</span> <span class='def-NumberFloat def-Number'>0.10</span> <span class='def-NumberFloat def-Number'>0.60</span> <span class='def-NumberFloat def-Number'>0.32</span><span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 45:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Drawmode'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'fast'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 46:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Visible'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'on'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
 47: 
 48:     <span class='matlab-mlComment def-Comment def-Syntax'>%===================================</span>
 49:     <span class='matlab-mlComment def-Comment def-Syntax'>% Information for all buttons</span>
 50:     labelColor<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-Symbol'>[</span><span class='def-NumberFloat def-Number'>0.8</span> <span class='def-NumberFloat def-Number'>0.8</span> <span class='def-NumberFloat def-Number'>0.8</span><span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>;</span>
 51:     top<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-NumberFloat def-Number'>0.85</span><span class='matlab-mlSymb def-Symbol'>;</span>
 52:     left<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-NumberFloat def-Number'>0.75</span><span class='matlab-mlSymb def-Symbol'>;</span>
 53:     bottom<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-NumberFloat def-Number'>0.05</span><span class='matlab-mlSymb def-Symbol'>;</span>
 54:     xLabelPos<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-NumberFloat def-Number'>0.75</span><span class='matlab-mlSymb def-Symbol'>;</span>
 55:     labelWid<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-NumberFloat def-Number'>0.20</span><span class='matlab-mlSymb def-Symbol'>;</span>
 56:     labelHt<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-NumberFloat def-Number'>0.05</span><span class='matlab-mlSymb def-Symbol'>;</span>
 57:     btnWid<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-NumberFloat def-Number'>0.20</span><span class='matlab-mlSymb def-Symbol'>;</span>
 58:     btnHt<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-NumberFloat def-Number'>0.08</span><span class='matlab-mlSymb def-Symbol'>;</span>
 59:     <span class='matlab-mlComment def-Comment def-Syntax'>% Spacing between the button and the next command's label</span>
 60:     spacing<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-NumberFloat def-Number'>0.05</span><span class='matlab-mlSymb def-Symbol'>;</span>
 61:     btnOffset<span class='matlab-mlSymb def-Symbol'>=</span>0<span class='matlab-mlSymb def-Symbol'>;</span>
 62:     
 63:     <span class='matlab-mlComment def-Comment def-Syntax'>%====================================</span>
 64:     <span class='matlab-mlComment def-Comment def-Syntax'>% The CONSOLE frame</span>
 65:     <span class='matlab-mlComment def-Comment def-Syntax'>% Use the frame's userdata to hold the tones matrix</span>
 66:     frmBorder<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-NumberFloat def-Number'>0.02</span><span class='matlab-mlSymb def-Symbol'>;</span>
 67:     yPos<span class='matlab-mlSymb def-Symbol'>=</span>bottom<span class='matlab-mlSymb def-Symbol'>-</span>frmBorder<span class='matlab-mlSymb def-Symbol'>;</span>
 68:     frmPos<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-Symbol'>[</span>left<span class='matlab-mlSymb def-Symbol'>-</span>frmBorder yPos btnWid<span class='matlab-mlSymb def-Symbol'>+</span>2<span class='matlab-mlSymb def-Symbol'>*</span>frmBorder <span class='def-NumberFloat def-Number'>0.9</span><span class='matlab-mlSymb def-Symbol'>+</span>2<span class='matlab-mlSymb def-Symbol'>*</span>frmBorder<span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>;</span>
 69:     frmHndl<span class='matlab-mlSymb def-Symbol'>=</span>uicontrol<span class='def-Symbol'>(</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 70:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Style'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'frame'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 71:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Units'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'normalized'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 72:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Position'</span><span class='matlab-mlSymb def-Symbol'>,</span>frmPos<span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 73:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'BackgroundColor'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span><span class='def-NumberFloat def-Number'>0.50</span> <span class='def-NumberFloat def-Number'>0.50</span> <span class='def-NumberFloat def-Number'>0.50</span><span class='def-Symbol'>]</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
 74: 
 75:     <span class='matlab-mlComment def-Comment def-Syntax'>%====================================</span>
 76:     <span class='matlab-mlComment def-Comment def-Syntax'>% The TONE buttons</span>
 77:     <span class='matlab-mlComment def-Comment def-Syntax'>%btnNumber=1;</span>
 78:     <span class='matlab-mlComment def-Comment def-Syntax'>%yLabelPos=0.90-(btnNumber-1)*(btnHt+labelHt+spacing);</span>
 79:     labelStr<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>' Button No.'</span><span class='matlab-mlSymb def-Symbol'>;</span>
 80:     
 81:     <span class='matlab-mlKeyWord def-Keyword'>for</span> count<span class='matlab-mlSymb def-Symbol'>=</span>1<span class='matlab-mlSymb def-Symbol'>:</span>12<span class='matlab-mlSymb def-Symbol'>,</span>
 82:         btnPos<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-Symbol'>[</span>xLabelPos<span class='matlab-mlSymb def-Symbol'>+</span><span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>rem</span><span class='def-Symbol'>(</span>count<span class='matlab-mlSymb def-Symbol'>-</span>1<span class='matlab-mlSymb def-Symbol'>,</span>3<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>*</span><span class='def-Symbol'>(</span>btnWid<span class='matlab-mlSymb def-Symbol'>/</span>3<span class='def-Symbol'>)</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 83:                 top<span class='matlab-mlSymb def-Symbol'>-</span><span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>floor</span><span class='def-Symbol'>(</span><span class='def-Symbol'>(</span>count<span class='matlab-mlSymb def-Symbol'>-</span>1<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>/</span>3<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>*</span><span class='def-Symbol'>(</span>btnWid<span class='matlab-mlSymb def-Symbol'>/</span>3<span class='def-Symbol'>)</span> btnWid<span class='matlab-mlSymb def-Symbol'>/</span>3 btnWid<span class='matlab-mlSymb def-Symbol'>/</span>3<span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>;</span>
 84:         <span class='matlab-mlKeyWord def-Keyword'>if</span> count<span class='matlab-mlSymb def-Symbol'>&lt;</span>10<span class='matlab-mlSymb def-Symbol'>,</span>
 85:             btnStr<span class='matlab-mlSymb def-Symbol'>=</span>num2str<span class='def-Symbol'>(</span>count<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
 86:         <span class='matlab-mlKeyWord def-Keyword'>else</span>
 87:             s <span class='matlab-mlSymb def-Symbol'>=</span> <span class='matlab-mlString def-SymbolStrong def-Symbol'>'*0#'</span><span class='matlab-mlSymb def-Symbol'>;</span>
 88:             btnStr <span class='matlab-mlSymb def-Symbol'>=</span> s<span class='def-Symbol'>(</span>count<span class='matlab-mlSymb def-Symbol'>-</span>9<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
 89:         <span class='matlab-mlKeyWord def-Keyword'>end</span>
 90:         uicontrol<span class='def-Symbol'>(</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 91:             <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Style'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'pushbutton'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 92:             <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Units'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'normalized'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 93:             <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Position'</span><span class='matlab-mlSymb def-Symbol'>,</span>btnPos<span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 94:             <span class='matlab-mlString def-SymbolStrong def-Symbol'>'String'</span><span class='matlab-mlSymb def-Symbol'>,</span>btnStr<span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 95:             <span class='matlab-mlString def-SymbolStrong def-Symbol'>'UserData'</span><span class='matlab-mlSymb def-Symbol'>,</span>count<span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
 96:             <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Callback'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'phone('</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'tone'</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>')'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
 97:     <span class='matlab-mlKeyWord def-Keyword'>end</span>
 98: 
 99:     <span class='matlab-mlComment def-Comment def-Syntax'>%====================================</span>
100:     <span class='matlab-mlComment def-Comment def-Syntax'>% The SOUND button</span>
101:     btnNumber<span class='matlab-mlSymb def-Symbol'>=</span>2<span class='matlab-mlSymb def-Symbol'>;</span>
102:     yPos<span class='matlab-mlSymb def-Symbol'>=</span>top<span class='matlab-mlSymb def-Symbol'>-</span>3<span class='matlab-mlSymb def-Symbol'>*</span>btnHt<span class='matlab-mlSymb def-Symbol'>;</span>
103:     labelStr<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Sound'</span><span class='matlab-mlSymb def-Symbol'>;</span>
104:     <span class='matlab-mlComment def-Comment def-Syntax'>% Setting this checkbox will allow the sound to work</span>
105:     
106:     <span class='matlab-mlComment def-Comment def-Syntax'>% Generic button information</span>
107:     btnPos<span class='matlab-mlSymb def-Symbol'>=</span><span class='def-Symbol'>[</span>left yPos<span class='matlab-mlSymb def-Symbol'>-</span>btnHt btnWid btnHt<span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>;</span>
108:     sndHndl<span class='matlab-mlSymb def-Symbol'>=</span>uicontrol<span class='def-Symbol'>(</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
109:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Style'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'checkbox'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
110:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Units'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'normalized'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
111:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Position'</span><span class='matlab-mlSymb def-Symbol'>,</span>btnPos<span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
112:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Enable'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'on'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
113:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'String'</span><span class='matlab-mlSymb def-Symbol'>,</span>labelStr<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
114: 
115:     <span class='matlab-mlComment def-Comment def-Syntax'>%====================================</span>
116:     <span class='matlab-mlComment def-Comment def-Syntax'>% The INFO button</span>
117:     labelStr<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Info'</span><span class='matlab-mlSymb def-Symbol'>;</span>
118:     callbackStr<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'phone('</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'info'</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>')'</span><span class='matlab-mlSymb def-Symbol'>;</span>
119:     infoHndl<span class='matlab-mlSymb def-Symbol'>=</span>uicontrol<span class='def-Symbol'>(</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
120:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Style'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'push'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
121:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Units'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'normalized'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
122:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Position'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span>left bottom<span class='matlab-mlSymb def-Symbol'>+</span>btnHt<span class='matlab-mlSymb def-Symbol'>+</span>spacing btnWid btnHt<span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
123:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'String'</span><span class='matlab-mlSymb def-Symbol'>,</span>labelStr<span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
124:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Callback'</span><span class='matlab-mlSymb def-Symbol'>,</span>callbackStr<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
125: 
126:     <span class='matlab-mlComment def-Comment def-Syntax'>%====================================</span>
127:     <span class='matlab-mlComment def-Comment def-Syntax'>% The CLOSE button</span>
128:     labelStr<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Close'</span><span class='matlab-mlSymb def-Symbol'>;</span>
129:     callbackStr<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'close(gcf)'</span><span class='matlab-mlSymb def-Symbol'>;</span>
130:     closeHndl<span class='matlab-mlSymb def-Symbol'>=</span>uicontrol<span class='def-Symbol'>(</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
131:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Style'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'push'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
132:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Units'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'normalized'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
133:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Position'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span>left bottom btnWid btnHt<span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
134:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'String'</span><span class='matlab-mlSymb def-Symbol'>,</span>labelStr<span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
135:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'Callback'</span><span class='matlab-mlSymb def-Symbol'>,</span>callbackStr<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
136: 
137:     <span class='matlab-mlComment def-Comment def-Syntax'>% Initialize the plot with tone number 1</span>
138:     <span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>axes</span><span class='def-Symbol'>(</span>axHndl1<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
139:     tone<span class='matlab-mlSymb def-Symbol'>=</span>tones<span class='def-Symbol'>(</span><span class='matlab-mlSymb def-Symbol'>:</span><span class='matlab-mlSymb def-Symbol'>,</span>1<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
140:     plot1Hndl<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>plot</span><span class='def-Symbol'>(</span>t<span class='matlab-mlSymb def-Symbol'>,</span>tone<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Erasemode'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'background'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
141:     xlabel<span class='def-Symbol'>(</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Time (sec)'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
142:     ylabel<span class='def-Symbol'>(</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Signal'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
143:     title<span class='def-Symbol'>(</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Time Response'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
144:     set<span class='def-Symbol'>(</span>axHndl1<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'XLim'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span>0 <span class='def-NumberFloat def-Number'>0.05</span><span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'YLim'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span><span class='matlab-mlSymb def-Symbol'>-</span>1 1<span class='def-Symbol'>]</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
145:     <span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>axes</span><span class='def-Symbol'>(</span>axHndl2<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
146:     p <span class='matlab-mlSymb def-Symbol'>=</span> psd<span class='def-Symbol'>(</span>tones<span class='def-Symbol'>(</span><span class='matlab-mlSymb def-Symbol'>:</span><span class='matlab-mlSymb def-Symbol'>,</span>1<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>,</span>256<span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span><span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span><span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>,</span>128<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
147:     f <span class='matlab-mlSymb def-Symbol'>=</span> <span class='def-Symbol'>(</span>0<span class='matlab-mlSymb def-Symbol'>:</span>127<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>/</span>128 <span class='matlab-mlSymb def-Symbol'>*</span> <span class='def-Symbol'>(</span>Fs<span class='matlab-mlSymb def-Symbol'>/</span>2<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
148:     f<span class='matlab-mlSymb def-Symbol'>=</span>f<span class='def-Symbol'>(</span>1<span class='matlab-mlSymb def-Symbol'>:</span>63<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
149:     p<span class='matlab-mlSymb def-Symbol'>=</span>p<span class='def-Symbol'>(</span>1<span class='matlab-mlSymb def-Symbol'>:</span>63<span class='matlab-mlSymb def-Symbol'>,</span>1<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
150:     plot2Hndl<span class='matlab-mlSymb def-Symbol'>=</span><span class='matlab-mlStdFunc def-TypeKeyword def-Keyword'>semilogy</span><span class='def-Symbol'>(</span>f<span class='matlab-mlSymb def-Symbol'>,</span>p<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Erasemode'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'background'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
151:     xlabel<span class='def-Symbol'>(</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Frequency (Hz)'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
152:     ylabel<span class='def-Symbol'>(</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Signal Power'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
153:     title<span class='def-Symbol'>(</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Spectrum'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
154:     set<span class='def-Symbol'>(</span>axHndl2<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'XLim'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span>0 2000<span class='def-Symbol'>]</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
155: 
156:     <span class='matlab-mlComment def-Comment def-Syntax'>% Uncover the figure</span>
157:     set<span class='def-Symbol'>(</span>figNumber<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Visible'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'on'</span><span class='matlab-mlSymb def-Symbol'>,</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>
158:         <span class='matlab-mlString def-SymbolStrong def-Symbol'>'UserData'</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span>frmHndl infoHndl closeHndl plot1Hndl plot2Hndl sndHndl<span class='def-Symbol'>]</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
159: 
160: <span class='matlab-mlKeyWord def-Keyword'>elseif</span> strcmp<span class='def-Symbol'>(</span>action<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'tone'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>,</span>
161:     figNumber<span class='matlab-mlSymb def-Symbol'>=</span>watchon<span class='matlab-mlSymb def-Symbol'>;</span>
162:     hndlList<span class='matlab-mlSymb def-Symbol'>=</span>get<span class='def-Symbol'>(</span>figNumber<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Userdata'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
163:     frmHndl<span class='matlab-mlSymb def-Symbol'>=</span>hndlList<span class='def-Symbol'>(</span>1<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
164:     infoHndl<span class='matlab-mlSymb def-Symbol'>=</span>hndlList<span class='def-Symbol'>(</span>2<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
165:     closeHndl<span class='matlab-mlSymb def-Symbol'>=</span>hndlList<span class='def-Symbol'>(</span>3<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
166:     plot1Hndl<span class='matlab-mlSymb def-Symbol'>=</span>hndlList<span class='def-Symbol'>(</span>4<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
167:     plot2Hndl<span class='matlab-mlSymb def-Symbol'>=</span>hndlList<span class='def-Symbol'>(</span>5<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
168:     sndHndl<span class='matlab-mlSymb def-Symbol'>=</span>hndlList<span class='def-Symbol'>(</span>6<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
169:     <span class='matlab-mlComment def-Comment def-Syntax'>%set([closeHndl infoHndl],'Enable','off');</span>
170: 
171:     <span class='matlab-mlComment def-Comment def-Syntax'>% ====== Playback the tone here</span>
172:     <span class='matlab-mlComment def-Comment def-Syntax'>% Sampling rate is Fs Hz</span>
173:     toneChoice<span class='matlab-mlSymb def-Symbol'>=</span>get<span class='def-Symbol'>(</span>gco<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'UserData'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
174:     tone<span class='matlab-mlSymb def-Symbol'>=</span>tones<span class='def-Symbol'>(</span><span class='matlab-mlSymb def-Symbol'>:</span><span class='matlab-mlSymb def-Symbol'>,</span>toneChoice<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
175:     <span class='matlab-mlKeyWord def-Keyword'>if</span> get<span class='def-Symbol'>(</span>sndHndl<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Value'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>,</span>
176:         sound<span class='def-Symbol'>(</span>tone<span class='matlab-mlSymb def-Symbol'>,</span>Fs<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
177:     <span class='matlab-mlKeyWord def-Keyword'>end</span>
178:     p <span class='matlab-mlSymb def-Symbol'>=</span> psd<span class='def-Symbol'>(</span>tone<span class='matlab-mlSymb def-Symbol'>,</span>256<span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span><span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>,</span><span class='def-Symbol'>[</span><span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>,</span>128<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
179:     f <span class='matlab-mlSymb def-Symbol'>=</span> <span class='def-Symbol'>(</span>0<span class='matlab-mlSymb def-Symbol'>:</span>127<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>/</span>128 <span class='matlab-mlSymb def-Symbol'>*</span> <span class='def-Symbol'>(</span>Fs<span class='matlab-mlSymb def-Symbol'>/</span>2<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
180:     p<span class='matlab-mlSymb def-Symbol'>=</span>p<span class='def-Symbol'>(</span>1<span class='matlab-mlSymb def-Symbol'>:</span>63<span class='matlab-mlSymb def-Symbol'>,</span>1<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
181:     set<span class='def-Symbol'>(</span>plot1Hndl<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'YData'</span><span class='matlab-mlSymb def-Symbol'>,</span>tone<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
182:     set<span class='def-Symbol'>(</span>plot2Hndl<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Ydata'</span><span class='matlab-mlSymb def-Symbol'>,</span>p<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
183:     <span class='matlab-mlComment def-Comment def-Syntax'>% ====== End of playing tone</span>
184: 
185:     <span class='matlab-mlComment def-Comment def-Syntax'>%set([closeHndl infoHndl],'Enable','on');</span>
186:     watchoff<span class='def-Symbol'>(</span>figNumber<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
187: 
188: 
189: <span class='matlab-mlKeyWord def-Keyword'>elseif</span> strcmp<span class='def-Symbol'>(</span>action<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'info'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>,</span>
190:     ttlStr<span class='matlab-mlSymb def-Symbol'>=</span>get<span class='def-Symbol'>(</span>gcf<span class='matlab-mlSymb def-Symbol'>,</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>'Name'</span><span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>
191:     hlpStr<span class='matlab-mlSymb def-Symbol'>=</span> <span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span><span class='matlab-mlSymb def-Symbol'>.</span>                                          
192:         <span class='def-Symbol'>[</span><span class='matlab-mlString def-SymbolStrong def-Symbol'>' This window demonstrates the speed and     '</span>  
193:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' utility of the "psd" command in the        '</span>  
194:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' Signal Processing Toolbox.                 '</span>  
195:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>'                                            '</span>  
196:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' The touch tone phone pad in the upper right'</span>  
197:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' plays the actual tones used by a normal    '</span>  
198:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' phone. The upper plot shows a sample of the'</span>  
199:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' time response of the sound. The lower plot '</span>  
200:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' shows the spectrum associated with the     '</span>  
201:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' waveform.                                  '</span>  
202:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>'                                            '</span>  
203:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' Notice that two tones are used to code each'</span>  
204:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' number on the dial.                        '</span>  
205:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>'                                            '</span>  
206:          <span class='matlab-mlString def-SymbolStrong def-Symbol'>' File name: phone.m                         '</span><span class='def-Symbol'>]</span><span class='matlab-mlSymb def-Symbol'>;</span>
207:     helpfun<span class='def-Symbol'>(</span>ttlStr<span class='matlab-mlSymb def-Symbol'>,</span>hlpStr<span class='def-Symbol'>)</span><span class='matlab-mlSymb def-Symbol'>;</span>                              
208: 
209: <span class='matlab-mlKeyWord def-Keyword'>end</span>    <span class='matlab-mlComment def-Comment def-Syntax'>% if strcmp(action, ...</span>
210: 
211: <span class='matlab-mlComment def-Comment def-Syntax'>% [EOF] phone.m</span>
212: 
