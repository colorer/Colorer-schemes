 0: Inline HTML should not bleed:
 1: <span class='xml-element-start-lt def-OpenTag def-Tag'>&lt;</span><span class='xml-element-start-name def-Tag'>sub</span><span class='xml-element-start-gt def-OpenTag def-Tag'>></span>lower with<span class='xml-element-start-lt def-OpenTag def-Tag'>&lt;</span><span class='xml-element-start-name def-Tag'>br</span><span class='xml-element-start-gt def-OpenTag def-Tag'>></span> breaks<span class='xml-element-end-lt def-CloseTag def-Tag'>&lt;/</span><span class='xml-element-end-name def-Tag'>sub</span><span class='xml-element-end-gt def-CloseTag def-Tag'>></span> and <span class='xml-element-start-lt def-OpenTag def-Tag'>&lt;</span><span class='xml-element-start-name def-Tag'>custom-tag</span> <span class='xml-Attribute-name def-ParameterUnknown def-ParameterStrong def-Parameter'>attr</span><span class='xml-Attribute-eq def-Symbol'>=</span><span class='xml-AttValue-start def-StringEdge def-String'>"</span><span class='xml-AttValue def-String'>v</span><span class='xml-AttValue-end def-StringEdge def-String'>"</span><span class='xml-element-start-gt def-OpenTag def-Tag'>></span>inline with<span class='xml-element-start-lt def-OpenTag def-Tag'>&lt;</span><span class='xml-element-start-name def-Tag'>br</span><span class='xml-element-start-gt def-OpenTag def-Tag'>></span> breaks<span class='xml-element-end-lt def-CloseTag def-Tag'>&lt;/</span><span class='xml-element-end-name def-Tag'>custom-tag</span><span class='xml-element-end-gt def-CloseTag def-Tag'>></span>
 2: <span class='markdown-EmText def-Label'>_and break highlighting_</span>.
 3: 
 4: Inline <span class='xml-element-start-lt def-OpenTag def-Tag'>&lt;</span><span class='xml-element-start-name def-Tag'>div</span> <span class='xml-Attribute-name def-ParameterUnknown def-ParameterStrong def-Parameter'>style</span><span class='xml-Attribute-eq def-Symbol'>=</span><span class='xml-AttValue-start def-StringEdge def-String'>"</span><span class='xml-AttValue def-String'>></span><span class='xml-AttValue-end def-StringEdge def-String'>"</span> <span class='xml-element-start-gt def-OpenTag def-Tag'>/></span>
 5: 
 6: <span class='def-Comment def-Syntax'>&lt;!--some comment--></span>
 7: 
 8: Inline <span class='def-Comment def-Syntax'>&lt;!--some XML comment--></span> followed by a self-closing tag <span class='xml-element-start-lt def-OpenTag def-Tag'>&lt;</span><span class='xml-element-start-name def-Tag'>hr</span>    <span class='xml-element-start-gt def-OpenTag def-Tag'>/></span>
 9: 
10: HTML block type 1 (pre/script/style/textarea):
11: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>pre</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
12:     *This*
13:         **is**
14:             `not`
15:                 _markdown_
16: <span class='html-htmlDirective def-Directive'>&lt;!DOCTYPE html></span>
17: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>html</span><span class='html-htmlUnknowParam def-ParameterUnknown def-ParameterStrong def-Parameter'> </span><span class='html-htmlParam def-Parameter'>lang</span><span class='html-htmlTagEqu def-Symbol'>=</span><span class='html-htmlString def-String'>"en"</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
18: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>body</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
19:     <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>p</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>This is <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>br</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span> HTML<span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlCloseTag html-htmlOpenTag def-Keyword'>p</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
20: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlCloseTag html-htmlOpenTag def-Keyword'>body</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
21: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlCloseTag html-htmlOpenTag def-Keyword'>html</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
22: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlCloseTag html-htmlOpenTag def-Keyword'>pre</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
23: 
24: HTML block type 2 (comment):
25: <span class='def-Comment def-Syntax'>&lt;!--</span>
26: <span class='def-Comment def-Syntax'>*not markdown*</span>
27: <span class='def-Comment def-Syntax'>--></span>
28: 
29: HTML block type 3 (processing instruction):
30: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;?pi</span>
31: *not markdown*
32: <span class='html-htmlTagBr def-OpenTag def-Tag'>?></span>
33: 
34: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;?xml</span> <span class='html-htmlParam def-Parameter'>version</span><span class='html-htmlTagEqu def-Symbol'>=</span><span class='html-htmlString def-String'>"1.0"</span><span class='html-htmlTagBr def-OpenTag def-Tag'>?></span>
35: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;?xml-stylesheet</span> <span class='html-htmlParam def-Parameter'>href</span><span class='html-htmlTagEqu def-Symbol'>=</span><span class='html-htmlString def-String'>"style.css"</span> <span class='html-htmlParam def-Parameter'>type</span><span class='html-htmlTagEqu def-Symbol'>=</span><span class='html-htmlString def-String'>"text/css"</span><span class='html-htmlTagBr def-OpenTag def-Tag'>?></span>
36: 
37: HTML block type 4 (declaration):
38: <span class='html-htmlDirective def-Directive'>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML </span><span class='html-htmlNumb def-Number'>4.01</span><span class='html-htmlDirective def-Directive'> Frameset//EN"</span>
39: <span class='html-htmlDirective def-Directive'>  "http://www</span><span class='html-htmlNumb def-Number'>.</span><span class='html-htmlDirective def-Directive'>w3</span><span class='html-htmlNumb def-Number'>.</span><span class='html-htmlDirective def-Directive'>org/TR/html4/frameset</span><span class='html-htmlNumb def-Number'>.</span><span class='html-htmlDirective def-Directive'>dtd"></span>
40: 
41: HTML block type 5 (CDATA):
42: <span class='markdown-BlindMark def-Tag'>&lt;![CDATA[</span>
43: *not markdown*
44: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlUnknowTag def-Tag'>data</span><span class='html-htmlUnknowParam def-ParameterUnknown def-ParameterStrong def-Parameter'> attr</span><span class='html-htmlTagEqu def-Symbol'>=</span><span class='html-htmlString def-String'>'v'</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span><span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlUnknowTag def-Tag'>data</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
45: <span class='markdown-BlindMark def-Tag'>]]></span>
46: 
47: HTML block type 6 (block tags, blank line ends):
48: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>div</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
49: *not markdown*
50: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlCloseTag html-htmlOpenTag def-Keyword'>div</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
51: 
52: Additional block tag samples (type 6):
53: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>table</span><span class='html-htmlUnknowParam def-ParameterUnknown def-ParameterStrong def-Parameter'> </span><span class='html-htmlParam def-Parameter'>style</span><span class='html-htmlTagEqu def-Symbol'>=</span><span class='html-htmlString def-String'>"</span><span class='html-htmlUnknowParam def-ParameterUnknown def-ParameterStrong def-Parameter'>CSS</span><span class='html-htmlString def-String'>"</span><span class='html-htmlUnknowParam def-ParameterUnknown def-ParameterStrong def-Parameter'> </span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
54: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>tr</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span><span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>td</span><span class='html-htmlUnknowParam def-ParameterUnknown def-ParameterStrong def-Parameter'> attr</span><span class='html-htmlTagEqu def-Symbol'>=</span><span class='html-htmlString def-String'>"v"</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>`not markdown`<span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlCloseTag html-htmlOpenTag def-Keyword'>td</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span><span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlCloseTag html-htmlOpenTag def-Keyword'>tr</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
55: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlCloseTag html-htmlOpenTag def-Keyword'>table</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
56: 
57: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>section</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
58: *not markdown*
59: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlCloseTag html-htmlOpenTag def-Keyword'>section</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
60: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlUnknowTag def-Tag'>SEARCH</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
61: *not markdown*
62: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlUnknowTag def-Tag'>SEARCH</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
63: 
64: HTML block type 7 (complete tag line, blank line ends):
65: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlUnknowTag def-Tag'>custom-tag</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
66: *not markdown*
67: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlUnknowTag def-Tag'>custom-tag</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
68: 
69: Additional complete-tag samples (type 7):
70: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlUnknowTag def-Tag'>ns:x-tag</span><span class='html-htmlUnknowParam def-ParameterUnknown def-ParameterStrong def-Parameter'> </span><span class='html-htmlParam def-Parameter'>data</span><span class='html-htmlUnknowParam def-ParameterUnknown def-ParameterStrong def-Parameter'>-x</span><span class='html-htmlTagEqu def-Symbol'>=</span><span class='html-htmlString def-String'>"1"</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
71: *not markdown*
72: <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlUnknowTag def-Tag'>ns:x-tag</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
73:  
74: In list:
75: 
76: <span class='markdown-ListMark markdown-ShownMark def-Keyword'>-</span> <span class='markdown-ListText def-Number'>before</span>
77: <span class='markdown-ListText def-Number'>  </span><span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;</span><span class='html-htmlOpenTag def-Keyword'>pre</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span><span class='markdown-ListText def-Number'></span>
78:   `not highlighted` _neither_  *nor this*
79:   <span class='html-htmlTagBr def-OpenTag def-Tag'>&lt;/</span><span class='html-htmlCloseTag html-htmlOpenTag def-Keyword'>pre</span><span class='html-htmlTagBr def-OpenTag def-Tag'>></span>
80: <span class='markdown-ListMark markdown-ShownMark def-Keyword'>-</span> <span class='markdown-ListText def-Number'>after</span>
81: <span class='markdown-ListText def-Number'>  and here </span><span class='markdown-Code def-TypeKeyword def-Keyword'>`code span`</span><span class='markdown-ListText def-Number'> </span><span class='markdown-EmText def-Label'>_emphasis_</span><span class='markdown-ListText def-Number'>  </span><span class='markdown-StrongText def-StringEdge def-String'>**strong**</span><span class='markdown-ListText def-Number'></span>
82: 
