 0: { =====================================================================
 1: ANS <span class='forth-forWord def-Keyword'>Forth</span> Test Suite
 2: 
 3: Copyright (c) 1998, FORTH, Incorporated
 4: 
 5: This set of tests has been taken from John Hayes' original Core.fr
 6: Dated Mon, <span class='forth-forNumb def-Number'>27</span> Nov <span class='forth-forNumb def-Number'>95</span> 13:10.  We retain the following statement as
 7: required for its use:
 8: 
 9: (C) <span class='forth-forNumb def-Number'>1995</span> JOHNS HOPKINS UNIVERSITY / APPLIED PHYSICS LABORATORY
10: MAY BE DISTRIBUTED FREELY AS LONG AS THIS COPYRIGHT NOTICE REMAINS.
11: 
12: His last know update was VERSION 1.2
13: 
14: This program tests the core <span class='forth-forWord def-Keyword'>words</span> of an ANS <span class='forth-forWord def-Keyword'>Forth</span> system.
15: The program assumes a two's complement implementation where
16: the range of signed numbers <span class='forth-forWord def-Keyword'>is</span> -2^(n-1) ... 2^(n-1)-1 <span class='forth-forWord def-Keyword'>and</span>
17: the range of unsigned numbers <span class='forth-forWord def-Keyword'>is</span> <span class='forth-forNumb def-Number'>0</span> ... 2^(n)-1.
18: 
19: How<span class='forth-forResWord def-Label'> </span><span class='forth-forWord def-Keyword'>to</span> search for non-existent word?
20: 
21: Dependencies: {> <span class='forth-forWord def-Keyword'>-></span> } { {{ TESTING &lt;FALSE>
22: 
23: Exports:
24: 
25: ===================================================================== }
26: 
27: TESTING <span class='forth-forResWord def-Label'>'</span> <span class='forth-forWord def-Keyword'>[']</span> <span class='forth-forWord def-Keyword'>FIND</span> <span class='forth-forWord def-Keyword'>EXECUTE</span> <span class='forth-forWord def-Keyword'>IMMEDIATE</span> <span class='forth-forWord def-Keyword'>COUNT</span> <span class='forth-forWord def-Keyword'>LITERAL</span> POSTPONE <span class='forth-forWord def-Keyword'>STATE</span>
28: 
29: {> <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>GT1</span> <span class='forth-forNumb def-Number'>123</span><span class='forth-forWord def-Keyword'> ;</span> <span class='forth-forWord def-Keyword'>-></span> }
30: {> <span class='forth-forResWord def-Label'>'</span> <span class='forth-forWord def-Keyword'>GT1</span> <span class='forth-forWord def-Keyword'>EXECUTE</span> <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>123</span> }
31: {> <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>GT2</span> <span class='forth-forResWord def-Label'>[']</span> <span class='forth-forWord def-Keyword'>GT1</span><span class='forth-forWord def-Keyword'> ;</span> <span class='forth-forWord def-Keyword'>IMMEDIATE</span> <span class='forth-forWord def-Keyword'>-></span> }
32: 
33: <span class='forth-forWord def-Keyword'>HERE</span> <span class='forth-forNumb def-Number'>3</span> <span class='forth-forWord def-Keyword'>C,</span> <span class='forth-forWord def-Keyword'>CHAR</span> <span class='forth-forString def-String'>G</span> <span class='forth-forWord def-Keyword'>C,</span> <span class='forth-forWord def-Keyword'>CHAR</span> <span class='forth-forString def-String'>T</span> <span class='forth-forWord def-Keyword'>C,</span> <span class='forth-forWord def-Keyword'>CHAR</span> <span class='forth-forString def-String'>1</span> <span class='forth-forWord def-Keyword'>C,</span> <span class='forth-forWord def-Keyword'>CONSTANT</span> <span class='forth-forWordDefinition def-Keyword'>GT1STRING</span>
34: <span class='forth-forWord def-Keyword'>HERE</span> <span class='forth-forNumb def-Number'>3</span> <span class='forth-forWord def-Keyword'>C,</span> <span class='forth-forWord def-Keyword'>CHAR</span> <span class='forth-forString def-String'>G</span> <span class='forth-forWord def-Keyword'>C,</span> <span class='forth-forWord def-Keyword'>CHAR</span> <span class='forth-forString def-String'>T</span> <span class='forth-forWord def-Keyword'>C,</span> <span class='forth-forWord def-Keyword'>CHAR</span> <span class='forth-forString def-String'>2</span> <span class='forth-forWord def-Keyword'>C,</span> <span class='forth-forWord def-Keyword'>CONSTANT</span> <span class='forth-forWordDefinition def-Keyword'>GT2STRING</span>
35: 
36: {> GT2 <span class='forth-forWord def-Keyword'>EXECUTE</span> <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>123</span> }
37: {> GT1STRING <span class='forth-forWord def-Keyword'>FIND</span> <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forResWord def-Label'>'</span> <span class='forth-forWord def-Keyword'>GT1</span> <span class='forth-forNumb def-Number'>-1</span> }
38: {> GT2STRING <span class='forth-forWord def-Keyword'>FIND</span> <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forResWord def-Label'>'</span> <span class='forth-forWord def-Keyword'>GT2</span> <span class='forth-forNumb def-Number'>1</span> }
39: {> <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>GT3</span> GT2 <span class='forth-forWord def-Keyword'>LITERAL</span><span class='forth-forWord def-Keyword'> ;</span> <span class='forth-forWord def-Keyword'>-></span> }
40: {> GT3 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forResWord def-Label'>'</span> <span class='forth-forWord def-Keyword'>GT1</span> }
41: 
42: {> GT1STRING <span class='forth-forWord def-Keyword'>COUNT</span> <span class='forth-forWord def-Keyword'>-></span> GT1STRING <span class='forth-forWord def-Keyword'>CHAR+</span> <span class='forth-forNumb def-Number'>3</span> }
43: 
44: {>
45:    <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>GT4</span> <span class='forth-forResWord def-Label'>POSTPONE</span> <span class='forth-forWord def-Keyword'>GT1</span><span class='forth-forWord def-Keyword'> ;</span> <span class='forth-forWord def-Keyword'>IMMEDIATE</span>
46: <span class='forth-forWord def-Keyword'>-></span> }
47: 
48: {> <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>GT5</span> GT4<span class='forth-forWord def-Keyword'> ;</span> <span class='forth-forWord def-Keyword'>-></span> }
49: {> GT5 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>123</span> }
50: {> <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>GT6</span> <span class='forth-forNumb def-Number'>345</span><span class='forth-forWord def-Keyword'> ;</span> <span class='forth-forWord def-Keyword'>IMMEDIATE</span> <span class='forth-forWord def-Keyword'>-></span> }
51: 
52: {>
53:    <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>GT7</span> <span class='forth-forResWord def-Label'>POSTPONE</span> <span class='forth-forWord def-Keyword'>GT6</span><span class='forth-forWord def-Keyword'> ;</span>
54: <span class='forth-forWord def-Keyword'>-></span> }
55: 
56: {> GT7 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>345</span> }
57: 
58: {>
59:    <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>GT8</span> <span class='forth-forWord def-Keyword'>STATE</span> <span class='forth-forWord def-Keyword'>@</span><span class='forth-forWord def-Keyword'> ;</span> <span class='forth-forWord def-Keyword'>IMMEDIATE</span>
60: <span class='forth-forWord def-Keyword'>-></span> }
61: 
62: {> GT8 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>0</span> }
63: 
64: {> <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>GT9</span> GT8 <span class='forth-forWord def-Keyword'>LITERAL</span><span class='forth-forWord def-Keyword'> ;</span> <span class='forth-forWord def-Keyword'>-></span> }
65: {> GT9 <span class='forth-forWord def-Keyword'>0=</span> <span class='forth-forWord def-Keyword'>-></span> &lt;FALSE> }
66: 
67: 
