 0: { =====================================================================
 1: ANS <span class='forth-forWord def-Keyword'>Forth</span> Test Suite
 2: 
 3: Copyright (c) 1998, FORTH, Incorporated
 4: 
 5: This set of tests has been taken from John Hayes' original Core.fr
 6: Dated Mon, <span class='forth-forNumb def-Number'>27</span> Nov <span class='forth-forNumb def-Number'>95</span> 13:10.  We retain the following statement as
 7: required for its use:
 8: 
 9: (C) <span class='forth-forNumb def-Number'>1995</span> JOHNS HOPKINS UNIVERSITY / APPLIED PHYSICS LABORATORY
10: MAY BE DISTRIBUTED FREELY AS LONG AS THIS COPYRIGHT NOTICE REMAINS.
11: 
12: His last know update was VERSION 1.2
13: 
14: This program tests the core <span class='forth-forWord def-Keyword'>words</span> of an ANS <span class='forth-forWord def-Keyword'>Forth</span> system.
15: The program assumes a two's complement implementation where
16: the range of signed numbers <span class='forth-forWord def-Keyword'>is</span> -2^(n-1) ... 2^(n-1)-1 <span class='forth-forWord def-Keyword'>and</span>
17: the range of unsigned numbers <span class='forth-forWord def-Keyword'>is</span> <span class='forth-forNumb def-Number'>0</span> ... 2^(n)-1.
18: 
19: Dependencies: {> <span class='forth-forWord def-Keyword'>-></span> } { {{ TESTING
20: 
21: Exports:
22: 
23: ===================================================================== }
24: 
25: TESTING DEFINING WORDS: <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>;</span> <span class='forth-forWord def-Keyword'>CONSTANT</span> <span class='forth-forWord def-Keyword'>VARIABLE</span> <span class='forth-forWord def-Keyword'>CREATE</span> <span class='forth-forResWord def-Label'>DOES></span> <span class='forth-forWord def-Keyword'>>BODY</span>
26: 
27: {> <span class='forth-forNumb def-Number'>123</span> <span class='forth-forWord def-Keyword'>CONSTANT</span> X123 <span class='forth-forWord def-Keyword'>-></span> }
28: {> X123 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>123</span> }
29: 
30: {>
31:    <span class='forth-forWord def-Keyword'>:</span> EQU <span class='forth-forWord def-Keyword'>CONSTANT</span><span class='forth-forWord def-Keyword'> ;</span>
32: <span class='forth-forWord def-Keyword'>-></span> }
33: 
34: {> X123 EQU Y123 <span class='forth-forWord def-Keyword'>-></span> }
35: {> Y123 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>123</span> }
36: 
37: {> <span class='forth-forWord def-Keyword'>VARIABLE</span> <span class='forth-forWordDefinition def-Keyword'>V1</span> <span class='forth-forWord def-Keyword'>-></span> }
38: {> <span class='forth-forNumb def-Number'>123</span> V1 <span class='forth-forWord def-Keyword'>!</span> <span class='forth-forWord def-Keyword'>-></span> }
39: {> V1 <span class='forth-forWord def-Keyword'>@</span> <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>123</span> }
40: 
41: {> <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>NOP</span> <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forResWord def-Label'>POSTPONE</span> <span class='forth-forWord def-Keyword'>;</span><span class='forth-forWord def-Keyword'> ;</span> <span class='forth-forWord def-Keyword'>-></span> }
42: {> NOP NOP1 NOP NOP2 <span class='forth-forWord def-Keyword'>-></span> }
43: {> NOP1 <span class='forth-forWord def-Keyword'>-></span> }
44: {> NOP2 <span class='forth-forWord def-Keyword'>-></span> }
45: 
46: {>
47:    <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>DOES1</span> <span class='forth-forResWord def-Label'>DOES></span> <span class='forth-forWord def-Keyword'>@</span> <span class='forth-forNumb def-Number'>1</span> <span class='forth-forWord def-Keyword'>+</span><span class='forth-forWord def-Keyword'> ;</span>
48: <span class='forth-forWord def-Keyword'>-></span> }
49: 
50: {>
51:    <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>DOES2</span> <span class='forth-forResWord def-Label'>DOES></span> <span class='forth-forWord def-Keyword'>@</span> <span class='forth-forNumb def-Number'>2</span> <span class='forth-forWord def-Keyword'>+</span><span class='forth-forWord def-Keyword'> ;</span>
52: <span class='forth-forWord def-Keyword'>-></span> }
53: 
54: {> <span class='forth-forWord def-Keyword'>CREATE</span> <span class='forth-forWordDefinition def-Keyword'>CR1</span> <span class='forth-forWord def-Keyword'>-></span> }
55: {> CR1 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forWord def-Keyword'>HERE</span> }
56: {> <span class='forth-forResWord def-Label'>'</span> <span class='forth-forWord def-Keyword'>CR1</span> <span class='forth-forWord def-Keyword'>>BODY</span> <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forWord def-Keyword'>HERE</span> }
57: {> <span class='forth-forNumb def-Number'>1</span> <span class='forth-forWord def-Keyword'>,</span> <span class='forth-forWord def-Keyword'>-></span> }
58: {> CR1 <span class='forth-forWord def-Keyword'>@</span> <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>1</span> }
59: {> DOES1 <span class='forth-forWord def-Keyword'>-></span> }
60: {> CR1 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>2</span> }
61: {> DOES2 <span class='forth-forWord def-Keyword'>-></span> }
62: {> CR1 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forNumb def-Number'>3</span> }
63: 
64: {> <span class='forth-forWord def-Keyword'>:</span> <span class='forth-forWordDefinition def-Keyword'>WEIRD:</span> <span class='forth-forWord def-Keyword'>CREATE</span> <span class='forth-forResWord def-Label'>DOES></span> <span class='forth-forNumb def-Number'>1</span> <span class='forth-forWord def-Keyword'>+</span> <span class='forth-forResWord def-Label'>DOES></span> <span class='forth-forNumb def-Number'>2</span> <span class='forth-forWord def-Keyword'>+</span><span class='forth-forWord def-Keyword'> ;</span> <span class='forth-forWord def-Keyword'>-></span> }
65: {> WEIRD: W1 <span class='forth-forWord def-Keyword'>-></span> }
66: {> <span class='forth-forResWord def-Label'>'</span> <span class='forth-forWord def-Keyword'>W1</span> <span class='forth-forWord def-Keyword'>>BODY</span> <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forWord def-Keyword'>HERE</span> }
67: {> W1 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forWord def-Keyword'>HERE</span> <span class='forth-forNumb def-Number'>1</span> <span class='forth-forWord def-Keyword'>+</span> }
68: {> W1 <span class='forth-forWord def-Keyword'>-></span> <span class='forth-forWord def-Keyword'>HERE</span> <span class='forth-forNumb def-Number'>2</span> <span class='forth-forWord def-Keyword'>+</span> }
69: 
70: 
